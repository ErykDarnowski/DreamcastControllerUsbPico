/*
 * The MIT License (MIT)
 *
 * Copyright (c) 2019 Ha Thach (tinyusb.org)
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 */

#include "msc_disk.hpp"
#include "bsp/board.h"
#include "tusb.h"

#include "utils.h"

#include <string.h>

#include "hal/Usb/usb_interface.hpp"
#include "hal/Usb/UsbFileSystem.hpp"
#include "hal/Usb/UsbFile.hpp"
#include "hal/System/MutexInterface.hpp"
#include "hal/System/LockGuard.hpp"

#include <mutex>

#define MAX_FILE_SIZE_BYTES (128 * 1024)
#define BLOCKS_PER_FILE 0x100
#define START_EXTERNAL_FILE_BLOCK 0x100

static MutexInterface* fileMutex = nullptr;

struct FileEntry
{
  uint16_t startBlock;
  uint16_t numBlocks;
  uint32_t size;
  const char* filename;
  UsbFile* handle;
};

static FileEntry fileEntries[8] = {};
static uint32_t numFileEntries = 0;

// whether host does safe-eject
static bool ejected = true;
static bool new_data = false;

// 1 README included in root directory
#define NUM_INTERNAL_FILES 1

// README contents stored on ramdisk - must not be greater than 512 bytes
#define README_CONTENTS "\
This is where Dreamcast memory unit data may be viewed when one or more are\n\
inserted into any controller. All memory here is read only. Files are compatible\n\
with the redream emulator.\n\
\n\
It is important to note that any operation done on the mass storage device will\n\
delay other controller operations.\
"

// Size of string minus null terminator byte
#define README_SIZE (sizeof(README_CONTENTS) - 1)

// Computes the seconds increment for a given seconds value (seconds may be floating point)
#define DIRECTORY_ENTRY_TIME_SEC_INC(seconds) (int)(((seconds - ((int)seconds - ((int)seconds % 2))) * 100) + 0.5)
#define DIRECTORY_ENTRY_TIME(hours, minutes, seconds) ((((hours - 1) & 0x1F) << 11) | ((minutes & 0x3F) << 5) | (((int)seconds / 2) & 0x1F))
#define DIRECTORY_ENTRY_DATE(year, month, day) ((((year - 1980) & 0x7F) << 9) | ((month & 0x0F) << 5) | (day & 0x1F))

// Different mask values for attr1
#define ATTR1_READ_ONLY 0x01
#define ATTR1_HIDDEN 0x02
#define ATTR1_SYSTEM 0x04
#define ATTR1_VOLUME_LABEL 0x08
#define ATTR1_SUBDIR 0x10
#define ATTR1_ARCHIVE 0x20
#define ATTR1_DEVICE 0x40
#define ATTR1_RESERVED 0x80

#define CHAR_TO_UPPER(c) (uint8_t)((c >= 'a' && c <= 'z') ? (c - ('a' - 'A')) : c)

// Converts a set length string to a list of characters
#define CHARACTERIFY1(str) str[0]
#define CHARACTERIFY2(str) CHARACTERIFY1(str), str[1]
#define CHARACTERIFY3(str) CHARACTERIFY2(str), str[2]
#define CHARACTERIFY4(str) CHARACTERIFY3(str), str[3]
#define CHARACTERIFY5(str) CHARACTERIFY4(str), str[4]
#define CHARACTERIFY6(str) CHARACTERIFY5(str), str[5]
#define CHARACTERIFY7(str) CHARACTERIFY6(str), str[6]
#define CHARACTERIFY8(str) CHARACTERIFY7(str), str[7]
#define CHARACTERIFY9(str) CHARACTERIFY8(str), str[8]
#define CHARACTERIFY10(str) CHARACTERIFY9(str), str[9]
#define CHARACTERIFY11(str) CHARACTERIFY10(str), str[10]

// Same as above but makes upper case
#define UCHARACTERIFY1(str) CHAR_TO_UPPER(str[0])
#define UCHARACTERIFY2(str) UCHARACTERIFY1(str), CHAR_TO_UPPER(str[1])
#define UCHARACTERIFY3(str) UCHARACTERIFY2(str), CHAR_TO_UPPER(str[2])
#define UCHARACTERIFY4(str) UCHARACTERIFY3(str), CHAR_TO_UPPER(str[3])
#define UCHARACTERIFY5(str) UCHARACTERIFY4(str), CHAR_TO_UPPER(str[4])
#define UCHARACTERIFY6(str) UCHARACTERIFY5(str), CHAR_TO_UPPER(str[5])
#define UCHARACTERIFY7(str) UCHARACTERIFY6(str), CHAR_TO_UPPER(str[6])
#define UCHARACTERIFY8(str) UCHARACTERIFY7(str), CHAR_TO_UPPER(str[7])

// Case for volume name seems to be handled properly, at least in Windows
#define VOLUME_LABEL_ENTRY(name11, mod_time, mod_date) \
      CHARACTERIFY11(name11),   \
      ATTR1_VOLUME_LABEL, 0x00, \
      0x00,                     \
      0x00, 0x00,               \
      0x00, 0x00,               \
      0x00, 0x00,               \
      0x00, 0x00,               \
      U16_TO_U8S_LE(mod_time),  \
      U16_TO_U8S_LE(mod_date),  \
      0x00, 0x00,               \
      0x00, 0x00, 0x00, 0x00

// Directory entries must be in upper case or Windows will get confused when it tries to open the file
#define DIRECTORY_ENTRY(name8, ext3, attr1, attr2, creation_time_sec_inc, creation_time, creation_date, access_date, file_attr, mod_time, mod_date, starting_page, file_size) \
      UCHARACTERIFY8(name8),   \
      UCHARACTERIFY3(ext3),    \
      attr1, attr2,                 \
      creation_time_sec_inc,        \
      U16_TO_U8S_LE(creation_time), \
      U16_TO_U8S_LE(creation_date), \
      U16_TO_U8S_LE(access_date),   \
      U16_TO_U8S_LE(file_attr),     \
      U16_TO_U8S_LE(mod_time),      \
      U16_TO_U8S_LE(mod_date),      \
      U16_TO_U8S_LE(starting_page), \
      U32_TO_U8S_LE(file_size)

// Default date/time is September 9, 1999 at 00:00:00 (Dreamcast release date in US)
#define DEFAULT_FILE_TIME_SECONDS 0
#define DEFAULT_FILE_TIME_SEC_INC DIRECTORY_ENTRY_TIME_SEC_INC(DEFAULT_FILE_TIME_SECONDS)
#define DEFAULT_FILE_TIME DIRECTORY_ENTRY_TIME(24, 0, DEFAULT_FILE_TIME_SECONDS)
#define DEFAULT_FILE_DATE DIRECTORY_ENTRY_DATE(1999, 9, 8)
#define DEFAULT_ACCESS_DATE DIRECTORY_ENTRY_DATE(1999, 9, 9)

#define SIMPLE_VOL_ENTRY(name11) VOLUME_LABEL_ENTRY(name11, DEFAULT_FILE_TIME, DEFAULT_FILE_DATE)

#define SIMPLE_DIR_ENTRY(name8, ext3, attr, starting_page, file_size) \
      DIRECTORY_ENTRY(name8,                      \
                      ext3,                       \
                      attr,                       \
                      0,                          \
                      DEFAULT_FILE_TIME_SEC_INC,  \
                      DEFAULT_FILE_TIME,          \
                      DEFAULT_FILE_DATE,          \
                      DEFAULT_ACCESS_DATE,        \
                      0,                          \
                      DEFAULT_FILE_TIME,          \
                      DEFAULT_FILE_DATE,          \
                      starting_page,              \
                      file_size)

#define VOLUME_LABEL11_STR "DC-Memory  "
#define VOLUME_ENTRY() SIMPLE_VOL_ENTRY(VOLUME_LABEL11_STR)

enum
{
  ALLOCATED_DISK_BLOCK_NUM  = 12, // Number of actual blocks reserved in RAM disk
  BAD_SECTOR_DISK_BLOCK_NUM = 253, // Used to line up memory files starting at address 0x0100
  EXTERNAL_DISK_BLOCK_NUM = 2048, // Number of blocks that exist outside of RAM
  FAKE_DISK_BLOCK_NUM = 32768,    // Report extra space in order to force FAT16 formatting
  DISK_BLOCK_SIZE = 512           // Size in bytes of each block
};
#define REPORTED_BLOCK_NUM (ALLOCATED_DISK_BLOCK_NUM + BAD_SECTOR_DISK_BLOCK_NUM + EXTERNAL_DISK_BLOCK_NUM + FAKE_DISK_BLOCK_NUM)

#define BYTES_PER_ROOT_ENTRY 32

#define NUM_RESERVED_SECTORS 1
#define NUM_FAT_COPIES 1
#define SECTORS_PER_FAT 9
#define NUM_ROOT_ENTRIES 16

#define NUM_FAT_SECTORS (NUM_FAT_COPIES * SECTORS_PER_FAT)
#define NUM_ROOT_SECTORS ((NUM_ROOT_ENTRIES * BYTES_PER_ROOT_ENTRY) / DISK_BLOCK_SIZE)
#define NUM_HEADER_SECTORS (NUM_RESERVED_SECTORS + NUM_FAT_SECTORS + NUM_ROOT_SECTORS)

#define FIRST_VALID_FAT_ADDRESS 2

#define VMUS_PER_PLAYER 2

const uint8_t defaultRootEntry[BYTES_PER_ROOT_ENTRY] = {SIMPLE_DIR_ENTRY("        ", "   ", ATTR1_ARCHIVE, 0, 0)};

// The ramdisk
uint8_t msc_disk[ALLOCATED_DISK_BLOCK_NUM][DISK_BLOCK_SIZE] =
{
  //------------- Block0: Boot Sector -------------//
  {
      // Jump instruction
      0xEB, 0x3C, 0x90,
      // OEM Name
      CHARACTERIFY8("MSDOS5.0"),

      // BIOS Parameter Block
      // Bytes per sector
      U16_TO_U8S_LE(DISK_BLOCK_SIZE),
      // Sectors per cluster
      0x01,
      // Reserved sectors
      U16_TO_U8S_LE(NUM_RESERVED_SECTORS),
      // Number of copies of file allocation tables
      NUM_FAT_COPIES,
      // Number of root entries (maximum number of files under root)
      U16_TO_U8S_LE(NUM_ROOT_ENTRIES),
      // Number of sectors (small)
      U16_TO_U8S_LE(REPORTED_BLOCK_NUM),
      // Media type (hard disk)
      0xF8,
      // Sectors per FAT
      U16_TO_U8S_LE(SECTORS_PER_FAT),
      // Sectors per track
      U16_TO_U8S_LE(1),
      // Number of heads
      U16_TO_U8S_LE(1),
      // Hidden sectors
      U32_TO_U8S_LE(0),
      // Number of sectors (large) (only used if small value is 0)
      U32_TO_U8S_LE(0),
      // Physical disk number
      0x80,
      // Current head
      0x00,
      // signature (must be either 0x28 or 0x29)
      0x29,
      // Volume serial number
      0x34, 0x12, 0x00, 0x00,
      // Volume label (11 bytes) (no longer actually used)
      CHARACTERIFY11(VOLUME_LABEL11_STR),
      // System ID (8 bytes) (host doesn't even use this)
      CHARACTERIFY8("FAT16   "),

      // Zero up to 2 last bytes of FAT magic code
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

      // FAT magic code
      0x55, 0xAA
  },

  //------------- Block1-9: FAT16 Table -------------//
  {
      // first 16 bit entry must be FFF8
      U16_TO_U8S_LE(0xFFF8),
      // End of chain indicator / maintenance flags (reserved for cluster 1)
      U16_TO_U8S_LE(0xFFFF),
      // The rest is pointers to next cluster number or 0xFFFF if end (for page 2+)
      U16_TO_U8S_LE(0xFFFF),
      // Bad sectors for the rest of this block of addresses
      U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7),
      U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7), U16_TO_U8S_LE(0xFFF7)
  },
  // Each one of these blocks address the 128KB needed for each memory file
  {
      U16_TO_U8S_LE(0x0101), U16_TO_U8S_LE(0x0102), U16_TO_U8S_LE(0x0103), U16_TO_U8S_LE(0x0104),
      U16_TO_U8S_LE(0x0105), U16_TO_U8S_LE(0x0106), U16_TO_U8S_LE(0x0107), U16_TO_U8S_LE(0x0108),
      U16_TO_U8S_LE(0x0109), U16_TO_U8S_LE(0x010A), U16_TO_U8S_LE(0x010B), U16_TO_U8S_LE(0x010C),
      U16_TO_U8S_LE(0x010D), U16_TO_U8S_LE(0x010E), U16_TO_U8S_LE(0x010F), U16_TO_U8S_LE(0x0110),
      U16_TO_U8S_LE(0x0111), U16_TO_U8S_LE(0x0112), U16_TO_U8S_LE(0x0113), U16_TO_U8S_LE(0x0114),
      U16_TO_U8S_LE(0x0115), U16_TO_U8S_LE(0x0116), U16_TO_U8S_LE(0x0117), U16_TO_U8S_LE(0x0118),
      U16_TO_U8S_LE(0x0119), U16_TO_U8S_LE(0x011A), U16_TO_U8S_LE(0x011B), U16_TO_U8S_LE(0x011C),
      U16_TO_U8S_LE(0x011D), U16_TO_U8S_LE(0x011E), U16_TO_U8S_LE(0x011F), U16_TO_U8S_LE(0x0120),
      U16_TO_U8S_LE(0x0121), U16_TO_U8S_LE(0x0122), U16_TO_U8S_LE(0x0123), U16_TO_U8S_LE(0x0124),
      U16_TO_U8S_LE(0x0125), U16_TO_U8S_LE(0x0126), U16_TO_U8S_LE(0x0127), U16_TO_U8S_LE(0x0128),
      U16_TO_U8S_LE(0x0129), U16_TO_U8S_LE(0x012A), U16_TO_U8S_LE(0x012B), U16_TO_U8S_LE(0x012C),
      U16_TO_U8S_LE(0x012D), U16_TO_U8S_LE(0x012E), U16_TO_U8S_LE(0x012F), U16_TO_U8S_LE(0x0130),
      U16_TO_U8S_LE(0x0131), U16_TO_U8S_LE(0x0132), U16_TO_U8S_LE(0x0133), U16_TO_U8S_LE(0x0134),
      U16_TO_U8S_LE(0x0135), U16_TO_U8S_LE(0x0136), U16_TO_U8S_LE(0x0137), U16_TO_U8S_LE(0x0138),
      U16_TO_U8S_LE(0x0139), U16_TO_U8S_LE(0x013A), U16_TO_U8S_LE(0x013B), U16_TO_U8S_LE(0x013C),
      U16_TO_U8S_LE(0x013D), U16_TO_U8S_LE(0x013E), U16_TO_U8S_LE(0x013F), U16_TO_U8S_LE(0x0140),
      U16_TO_U8S_LE(0x0141), U16_TO_U8S_LE(0x0142), U16_TO_U8S_LE(0x0143), U16_TO_U8S_LE(0x0144),
      U16_TO_U8S_LE(0x0145), U16_TO_U8S_LE(0x0146), U16_TO_U8S_LE(0x0147), U16_TO_U8S_LE(0x0148),
      U16_TO_U8S_LE(0x0149), U16_TO_U8S_LE(0x014A), U16_TO_U8S_LE(0x014B), U16_TO_U8S_LE(0x014C),
      U16_TO_U8S_LE(0x014D), U16_TO_U8S_LE(0x014E), U16_TO_U8S_LE(0x014F), U16_TO_U8S_LE(0x0150),
      U16_TO_U8S_LE(0x0151), U16_TO_U8S_LE(0x0152), U16_TO_U8S_LE(0x0153), U16_TO_U8S_LE(0x0154),
      U16_TO_U8S_LE(0x0155), U16_TO_U8S_LE(0x0156), U16_TO_U8S_LE(0x0157), U16_TO_U8S_LE(0x0158),
      U16_TO_U8S_LE(0x0159), U16_TO_U8S_LE(0x015A), U16_TO_U8S_LE(0x015B), U16_TO_U8S_LE(0x015C),
      U16_TO_U8S_LE(0x015D), U16_TO_U8S_LE(0x015E), U16_TO_U8S_LE(0x015F), U16_TO_U8S_LE(0x0160),
      U16_TO_U8S_LE(0x0161), U16_TO_U8S_LE(0x0162), U16_TO_U8S_LE(0x0163), U16_TO_U8S_LE(0x0164),
      U16_TO_U8S_LE(0x0165), U16_TO_U8S_LE(0x0166), U16_TO_U8S_LE(0x0167), U16_TO_U8S_LE(0x0168),
      U16_TO_U8S_LE(0x0169), U16_TO_U8S_LE(0x016A), U16_TO_U8S_LE(0x016B), U16_TO_U8S_LE(0x016C),
      U16_TO_U8S_LE(0x016D), U16_TO_U8S_LE(0x016E), U16_TO_U8S_LE(0x016F), U16_TO_U8S_LE(0x0170),
      U16_TO_U8S_LE(0x0171), U16_TO_U8S_LE(0x0172), U16_TO_U8S_LE(0x0173), U16_TO_U8S_LE(0x0174),
      U16_TO_U8S_LE(0x0175), U16_TO_U8S_LE(0x0176), U16_TO_U8S_LE(0x0177), U16_TO_U8S_LE(0x0178),
      U16_TO_U8S_LE(0x0179), U16_TO_U8S_LE(0x017A), U16_TO_U8S_LE(0x017B), U16_TO_U8S_LE(0x017C),
      U16_TO_U8S_LE(0x017D), U16_TO_U8S_LE(0x017E), U16_TO_U8S_LE(0x017F), U16_TO_U8S_LE(0x0180),
      U16_TO_U8S_LE(0x0181), U16_TO_U8S_LE(0x0182), U16_TO_U8S_LE(0x0183), U16_TO_U8S_LE(0x0184),
      U16_TO_U8S_LE(0x0185), U16_TO_U8S_LE(0x0186), U16_TO_U8S_LE(0x0187), U16_TO_U8S_LE(0x0188),
      U16_TO_U8S_LE(0x0189), U16_TO_U8S_LE(0x018A), U16_TO_U8S_LE(0x018B), U16_TO_U8S_LE(0x018C),
      U16_TO_U8S_LE(0x018D), U16_TO_U8S_LE(0x018E), U16_TO_U8S_LE(0x018F), U16_TO_U8S_LE(0x0190),
      U16_TO_U8S_LE(0x0191), U16_TO_U8S_LE(0x0192), U16_TO_U8S_LE(0x0193), U16_TO_U8S_LE(0x0194),
      U16_TO_U8S_LE(0x0195), U16_TO_U8S_LE(0x0196), U16_TO_U8S_LE(0x0197), U16_TO_U8S_LE(0x0198),
      U16_TO_U8S_LE(0x0199), U16_TO_U8S_LE(0x019A), U16_TO_U8S_LE(0x019B), U16_TO_U8S_LE(0x019C),
      U16_TO_U8S_LE(0x019D), U16_TO_U8S_LE(0x019E), U16_TO_U8S_LE(0x019F), U16_TO_U8S_LE(0x01A0),
      U16_TO_U8S_LE(0x01A1), U16_TO_U8S_LE(0x01A2), U16_TO_U8S_LE(0x01A3), U16_TO_U8S_LE(0x01A4),
      U16_TO_U8S_LE(0x01A5), U16_TO_U8S_LE(0x01A6), U16_TO_U8S_LE(0x01A7), U16_TO_U8S_LE(0x01A8),
      U16_TO_U8S_LE(0x01A9), U16_TO_U8S_LE(0x01AA), U16_TO_U8S_LE(0x01AB), U16_TO_U8S_LE(0x01AC),
      U16_TO_U8S_LE(0x01AD), U16_TO_U8S_LE(0x01AE), U16_TO_U8S_LE(0x01AF), U16_TO_U8S_LE(0x01B0),
      U16_TO_U8S_LE(0x01B1), U16_TO_U8S_LE(0x01B2), U16_TO_U8S_LE(0x01B3), U16_TO_U8S_LE(0x01B4),
      U16_TO_U8S_LE(0x01B5), U16_TO_U8S_LE(0x01B6), U16_TO_U8S_LE(0x01B7), U16_TO_U8S_LE(0x01B8),
      U16_TO_U8S_LE(0x01B9), U16_TO_U8S_LE(0x01BA), U16_TO_U8S_LE(0x01BB), U16_TO_U8S_LE(0x01BC),
      U16_TO_U8S_LE(0x01BD), U16_TO_U8S_LE(0x01BE), U16_TO_U8S_LE(0x01BF), U16_TO_U8S_LE(0x01C0),
      U16_TO_U8S_LE(0x01C1), U16_TO_U8S_LE(0x01C2), U16_TO_U8S_LE(0x01C3), U16_TO_U8S_LE(0x01C4),
      U16_TO_U8S_LE(0x01C5), U16_TO_U8S_LE(0x01C6), U16_TO_U8S_LE(0x01C7), U16_TO_U8S_LE(0x01C8),
      U16_TO_U8S_LE(0x01C9), U16_TO_U8S_LE(0x01CA), U16_TO_U8S_LE(0x01CB), U16_TO_U8S_LE(0x01CC),
      U16_TO_U8S_LE(0x01CD), U16_TO_U8S_LE(0x01CE), U16_TO_U8S_LE(0x01CF), U16_TO_U8S_LE(0x01D0),
      U16_TO_U8S_LE(0x01D1), U16_TO_U8S_LE(0x01D2), U16_TO_U8S_LE(0x01D3), U16_TO_U8S_LE(0x01D4),
      U16_TO_U8S_LE(0x01D5), U16_TO_U8S_LE(0x01D6), U16_TO_U8S_LE(0x01D7), U16_TO_U8S_LE(0x01D8),
      U16_TO_U8S_LE(0x01D9), U16_TO_U8S_LE(0x01DA), U16_TO_U8S_LE(0x01DB), U16_TO_U8S_LE(0x01DC),
      U16_TO_U8S_LE(0x01DD), U16_TO_U8S_LE(0x01DE), U16_TO_U8S_LE(0x01DF), U16_TO_U8S_LE(0x01E0),
      U16_TO_U8S_LE(0x01E1), U16_TO_U8S_LE(0x01E2), U16_TO_U8S_LE(0x01E3), U16_TO_U8S_LE(0x01E4),
      U16_TO_U8S_LE(0x01E5), U16_TO_U8S_LE(0x01E6), U16_TO_U8S_LE(0x01E7), U16_TO_U8S_LE(0x01E8),
      U16_TO_U8S_LE(0x01E9), U16_TO_U8S_LE(0x01EA), U16_TO_U8S_LE(0x01EB), U16_TO_U8S_LE(0x01EC),
      U16_TO_U8S_LE(0x01ED), U16_TO_U8S_LE(0x01EE), U16_TO_U8S_LE(0x01EF), U16_TO_U8S_LE(0x01F0),
      U16_TO_U8S_LE(0x01F1), U16_TO_U8S_LE(0x01F2), U16_TO_U8S_LE(0x01F3), U16_TO_U8S_LE(0x01F4),
      U16_TO_U8S_LE(0x01F5), U16_TO_U8S_LE(0x01F6), U16_TO_U8S_LE(0x01F7), U16_TO_U8S_LE(0x01F8),
      U16_TO_U8S_LE(0x01F9), U16_TO_U8S_LE(0x01FA), U16_TO_U8S_LE(0x01FB), U16_TO_U8S_LE(0x01FC),
      U16_TO_U8S_LE(0x01FD), U16_TO_U8S_LE(0x01FE), U16_TO_U8S_LE(0x01FF), U16_TO_U8S_LE(0xFFFF)
  },
  {
      U16_TO_U8S_LE(0x0201), U16_TO_U8S_LE(0x0202), U16_TO_U8S_LE(0x0203), U16_TO_U8S_LE(0x0204),
      U16_TO_U8S_LE(0x0205), U16_TO_U8S_LE(0x0206), U16_TO_U8S_LE(0x0207), U16_TO_U8S_LE(0x0208),
      U16_TO_U8S_LE(0x0209), U16_TO_U8S_LE(0x020A), U16_TO_U8S_LE(0x020B), U16_TO_U8S_LE(0x020C),
      U16_TO_U8S_LE(0x020D), U16_TO_U8S_LE(0x020E), U16_TO_U8S_LE(0x020F), U16_TO_U8S_LE(0x0210),
      U16_TO_U8S_LE(0x0211), U16_TO_U8S_LE(0x0212), U16_TO_U8S_LE(0x0213), U16_TO_U8S_LE(0x0214),
      U16_TO_U8S_LE(0x0215), U16_TO_U8S_LE(0x0216), U16_TO_U8S_LE(0x0217), U16_TO_U8S_LE(0x0218),
      U16_TO_U8S_LE(0x0219), U16_TO_U8S_LE(0x021A), U16_TO_U8S_LE(0x021B), U16_TO_U8S_LE(0x021C),
      U16_TO_U8S_LE(0x021D), U16_TO_U8S_LE(0x021E), U16_TO_U8S_LE(0x021F), U16_TO_U8S_LE(0x0220),
      U16_TO_U8S_LE(0x0221), U16_TO_U8S_LE(0x0222), U16_TO_U8S_LE(0x0223), U16_TO_U8S_LE(0x0224),
      U16_TO_U8S_LE(0x0225), U16_TO_U8S_LE(0x0226), U16_TO_U8S_LE(0x0227), U16_TO_U8S_LE(0x0228),
      U16_TO_U8S_LE(0x0229), U16_TO_U8S_LE(0x022A), U16_TO_U8S_LE(0x022B), U16_TO_U8S_LE(0x022C),
      U16_TO_U8S_LE(0x022D), U16_TO_U8S_LE(0x022E), U16_TO_U8S_LE(0x022F), U16_TO_U8S_LE(0x0230),
      U16_TO_U8S_LE(0x0231), U16_TO_U8S_LE(0x0232), U16_TO_U8S_LE(0x0233), U16_TO_U8S_LE(0x0234),
      U16_TO_U8S_LE(0x0235), U16_TO_U8S_LE(0x0236), U16_TO_U8S_LE(0x0237), U16_TO_U8S_LE(0x0238),
      U16_TO_U8S_LE(0x0239), U16_TO_U8S_LE(0x023A), U16_TO_U8S_LE(0x023B), U16_TO_U8S_LE(0x023C),
      U16_TO_U8S_LE(0x023D), U16_TO_U8S_LE(0x023E), U16_TO_U8S_LE(0x023F), U16_TO_U8S_LE(0x0240),
      U16_TO_U8S_LE(0x0241), U16_TO_U8S_LE(0x0242), U16_TO_U8S_LE(0x0243), U16_TO_U8S_LE(0x0244),
      U16_TO_U8S_LE(0x0245), U16_TO_U8S_LE(0x0246), U16_TO_U8S_LE(0x0247), U16_TO_U8S_LE(0x0248),
      U16_TO_U8S_LE(0x0249), U16_TO_U8S_LE(0x024A), U16_TO_U8S_LE(0x024B), U16_TO_U8S_LE(0x024C),
      U16_TO_U8S_LE(0x024D), U16_TO_U8S_LE(0x024E), U16_TO_U8S_LE(0x024F), U16_TO_U8S_LE(0x0250),
      U16_TO_U8S_LE(0x0251), U16_TO_U8S_LE(0x0252), U16_TO_U8S_LE(0x0253), U16_TO_U8S_LE(0x0254),
      U16_TO_U8S_LE(0x0255), U16_TO_U8S_LE(0x0256), U16_TO_U8S_LE(0x0257), U16_TO_U8S_LE(0x0258),
      U16_TO_U8S_LE(0x0259), U16_TO_U8S_LE(0x025A), U16_TO_U8S_LE(0x025B), U16_TO_U8S_LE(0x025C),
      U16_TO_U8S_LE(0x025D), U16_TO_U8S_LE(0x025E), U16_TO_U8S_LE(0x025F), U16_TO_U8S_LE(0x0260),
      U16_TO_U8S_LE(0x0261), U16_TO_U8S_LE(0x0262), U16_TO_U8S_LE(0x0263), U16_TO_U8S_LE(0x0264),
      U16_TO_U8S_LE(0x0265), U16_TO_U8S_LE(0x0266), U16_TO_U8S_LE(0x0267), U16_TO_U8S_LE(0x0268),
      U16_TO_U8S_LE(0x0269), U16_TO_U8S_LE(0x026A), U16_TO_U8S_LE(0x026B), U16_TO_U8S_LE(0x026C),
      U16_TO_U8S_LE(0x026D), U16_TO_U8S_LE(0x026E), U16_TO_U8S_LE(0x026F), U16_TO_U8S_LE(0x0270),
      U16_TO_U8S_LE(0x0271), U16_TO_U8S_LE(0x0272), U16_TO_U8S_LE(0x0273), U16_TO_U8S_LE(0x0274),
      U16_TO_U8S_LE(0x0275), U16_TO_U8S_LE(0x0276), U16_TO_U8S_LE(0x0277), U16_TO_U8S_LE(0x0278),
      U16_TO_U8S_LE(0x0279), U16_TO_U8S_LE(0x027A), U16_TO_U8S_LE(0x027B), U16_TO_U8S_LE(0x027C),
      U16_TO_U8S_LE(0x027D), U16_TO_U8S_LE(0x027E), U16_TO_U8S_LE(0x027F), U16_TO_U8S_LE(0x0280),
      U16_TO_U8S_LE(0x0281), U16_TO_U8S_LE(0x0282), U16_TO_U8S_LE(0x0283), U16_TO_U8S_LE(0x0284),
      U16_TO_U8S_LE(0x0285), U16_TO_U8S_LE(0x0286), U16_TO_U8S_LE(0x0287), U16_TO_U8S_LE(0x0288),
      U16_TO_U8S_LE(0x0289), U16_TO_U8S_LE(0x028A), U16_TO_U8S_LE(0x028B), U16_TO_U8S_LE(0x028C),
      U16_TO_U8S_LE(0x028D), U16_TO_U8S_LE(0x028E), U16_TO_U8S_LE(0x028F), U16_TO_U8S_LE(0x0290),
      U16_TO_U8S_LE(0x0291), U16_TO_U8S_LE(0x0292), U16_TO_U8S_LE(0x0293), U16_TO_U8S_LE(0x0294),
      U16_TO_U8S_LE(0x0295), U16_TO_U8S_LE(0x0296), U16_TO_U8S_LE(0x0297), U16_TO_U8S_LE(0x0298),
      U16_TO_U8S_LE(0x0299), U16_TO_U8S_LE(0x029A), U16_TO_U8S_LE(0x029B), U16_TO_U8S_LE(0x029C),
      U16_TO_U8S_LE(0x029D), U16_TO_U8S_LE(0x029E), U16_TO_U8S_LE(0x029F), U16_TO_U8S_LE(0x02A0),
      U16_TO_U8S_LE(0x02A1), U16_TO_U8S_LE(0x02A2), U16_TO_U8S_LE(0x02A3), U16_TO_U8S_LE(0x02A4),
      U16_TO_U8S_LE(0x02A5), U16_TO_U8S_LE(0x02A6), U16_TO_U8S_LE(0x02A7), U16_TO_U8S_LE(0x02A8),
      U16_TO_U8S_LE(0x02A9), U16_TO_U8S_LE(0x02AA), U16_TO_U8S_LE(0x02AB), U16_TO_U8S_LE(0x02AC),
      U16_TO_U8S_LE(0x02AD), U16_TO_U8S_LE(0x02AE), U16_TO_U8S_LE(0x02AF), U16_TO_U8S_LE(0x02B0),
      U16_TO_U8S_LE(0x02B1), U16_TO_U8S_LE(0x02B2), U16_TO_U8S_LE(0x02B3), U16_TO_U8S_LE(0x02B4),
      U16_TO_U8S_LE(0x02B5), U16_TO_U8S_LE(0x02B6), U16_TO_U8S_LE(0x02B7), U16_TO_U8S_LE(0x02B8),
      U16_TO_U8S_LE(0x02B9), U16_TO_U8S_LE(0x02BA), U16_TO_U8S_LE(0x02BB), U16_TO_U8S_LE(0x02BC),
      U16_TO_U8S_LE(0x02BD), U16_TO_U8S_LE(0x02BE), U16_TO_U8S_LE(0x02BF), U16_TO_U8S_LE(0x02C0),
      U16_TO_U8S_LE(0x02C1), U16_TO_U8S_LE(0x02C2), U16_TO_U8S_LE(0x02C3), U16_TO_U8S_LE(0x02C4),
      U16_TO_U8S_LE(0x02C5), U16_TO_U8S_LE(0x02C6), U16_TO_U8S_LE(0x02C7), U16_TO_U8S_LE(0x02C8),
      U16_TO_U8S_LE(0x02C9), U16_TO_U8S_LE(0x02CA), U16_TO_U8S_LE(0x02CB), U16_TO_U8S_LE(0x02CC),
      U16_TO_U8S_LE(0x02CD), U16_TO_U8S_LE(0x02CE), U16_TO_U8S_LE(0x02CF), U16_TO_U8S_LE(0x02D0),
      U16_TO_U8S_LE(0x02D1), U16_TO_U8S_LE(0x02D2), U16_TO_U8S_LE(0x02D3), U16_TO_U8S_LE(0x02D4),
      U16_TO_U8S_LE(0x02D5), U16_TO_U8S_LE(0x02D6), U16_TO_U8S_LE(0x02D7), U16_TO_U8S_LE(0x02D8),
      U16_TO_U8S_LE(0x02D9), U16_TO_U8S_LE(0x02DA), U16_TO_U8S_LE(0x02DB), U16_TO_U8S_LE(0x02DC),
      U16_TO_U8S_LE(0x02DD), U16_TO_U8S_LE(0x02DE), U16_TO_U8S_LE(0x02DF), U16_TO_U8S_LE(0x02E0),
      U16_TO_U8S_LE(0x02E1), U16_TO_U8S_LE(0x02E2), U16_TO_U8S_LE(0x02E3), U16_TO_U8S_LE(0x02E4),
      U16_TO_U8S_LE(0x02E5), U16_TO_U8S_LE(0x02E6), U16_TO_U8S_LE(0x02E7), U16_TO_U8S_LE(0x02E8),
      U16_TO_U8S_LE(0x02E9), U16_TO_U8S_LE(0x02EA), U16_TO_U8S_LE(0x02EB), U16_TO_U8S_LE(0x02EC),
      U16_TO_U8S_LE(0x02ED), U16_TO_U8S_LE(0x02EE), U16_TO_U8S_LE(0x02EF), U16_TO_U8S_LE(0x02F0),
      U16_TO_U8S_LE(0x02F1), U16_TO_U8S_LE(0x02F2), U16_TO_U8S_LE(0x02F3), U16_TO_U8S_LE(0x02F4),
      U16_TO_U8S_LE(0x02F5), U16_TO_U8S_LE(0x02F6), U16_TO_U8S_LE(0x02F7), U16_TO_U8S_LE(0x02F8),
      U16_TO_U8S_LE(0x02F9), U16_TO_U8S_LE(0x02FA), U16_TO_U8S_LE(0x02FB), U16_TO_U8S_LE(0x02FC),
      U16_TO_U8S_LE(0x02FD), U16_TO_U8S_LE(0x02FE), U16_TO_U8S_LE(0x02FF), U16_TO_U8S_LE(0xFFFF)
  },
  {
      U16_TO_U8S_LE(0x0301), U16_TO_U8S_LE(0x0302), U16_TO_U8S_LE(0x0303), U16_TO_U8S_LE(0x0304),
      U16_TO_U8S_LE(0x0305), U16_TO_U8S_LE(0x0306), U16_TO_U8S_LE(0x0307), U16_TO_U8S_LE(0x0308),
      U16_TO_U8S_LE(0x0309), U16_TO_U8S_LE(0x030A), U16_TO_U8S_LE(0x030B), U16_TO_U8S_LE(0x030C),
      U16_TO_U8S_LE(0x030D), U16_TO_U8S_LE(0x030E), U16_TO_U8S_LE(0x030F), U16_TO_U8S_LE(0x0310),
      U16_TO_U8S_LE(0x0311), U16_TO_U8S_LE(0x0312), U16_TO_U8S_LE(0x0313), U16_TO_U8S_LE(0x0314),
      U16_TO_U8S_LE(0x0315), U16_TO_U8S_LE(0x0316), U16_TO_U8S_LE(0x0317), U16_TO_U8S_LE(0x0318),
      U16_TO_U8S_LE(0x0319), U16_TO_U8S_LE(0x031A), U16_TO_U8S_LE(0x031B), U16_TO_U8S_LE(0x031C),
      U16_TO_U8S_LE(0x031D), U16_TO_U8S_LE(0x031E), U16_TO_U8S_LE(0x031F), U16_TO_U8S_LE(0x0320),
      U16_TO_U8S_LE(0x0321), U16_TO_U8S_LE(0x0322), U16_TO_U8S_LE(0x0323), U16_TO_U8S_LE(0x0324),
      U16_TO_U8S_LE(0x0325), U16_TO_U8S_LE(0x0326), U16_TO_U8S_LE(0x0327), U16_TO_U8S_LE(0x0328),
      U16_TO_U8S_LE(0x0329), U16_TO_U8S_LE(0x032A), U16_TO_U8S_LE(0x032B), U16_TO_U8S_LE(0x032C),
      U16_TO_U8S_LE(0x032D), U16_TO_U8S_LE(0x032E), U16_TO_U8S_LE(0x032F), U16_TO_U8S_LE(0x0330),
      U16_TO_U8S_LE(0x0331), U16_TO_U8S_LE(0x0332), U16_TO_U8S_LE(0x0333), U16_TO_U8S_LE(0x0334),
      U16_TO_U8S_LE(0x0335), U16_TO_U8S_LE(0x0336), U16_TO_U8S_LE(0x0337), U16_TO_U8S_LE(0x0338),
      U16_TO_U8S_LE(0x0339), U16_TO_U8S_LE(0x033A), U16_TO_U8S_LE(0x033B), U16_TO_U8S_LE(0x033C),
      U16_TO_U8S_LE(0x033D), U16_TO_U8S_LE(0x033E), U16_TO_U8S_LE(0x033F), U16_TO_U8S_LE(0x0340),
      U16_TO_U8S_LE(0x0341), U16_TO_U8S_LE(0x0342), U16_TO_U8S_LE(0x0343), U16_TO_U8S_LE(0x0344),
      U16_TO_U8S_LE(0x0345), U16_TO_U8S_LE(0x0346), U16_TO_U8S_LE(0x0347), U16_TO_U8S_LE(0x0348),
      U16_TO_U8S_LE(0x0349), U16_TO_U8S_LE(0x034A), U16_TO_U8S_LE(0x034B), U16_TO_U8S_LE(0x034C),
      U16_TO_U8S_LE(0x034D), U16_TO_U8S_LE(0x034E), U16_TO_U8S_LE(0x034F), U16_TO_U8S_LE(0x0350),
      U16_TO_U8S_LE(0x0351), U16_TO_U8S_LE(0x0352), U16_TO_U8S_LE(0x0353), U16_TO_U8S_LE(0x0354),
      U16_TO_U8S_LE(0x0355), U16_TO_U8S_LE(0x0356), U16_TO_U8S_LE(0x0357), U16_TO_U8S_LE(0x0358),
      U16_TO_U8S_LE(0x0359), U16_TO_U8S_LE(0x035A), U16_TO_U8S_LE(0x035B), U16_TO_U8S_LE(0x035C),
      U16_TO_U8S_LE(0x035D), U16_TO_U8S_LE(0x035E), U16_TO_U8S_LE(0x035F), U16_TO_U8S_LE(0x0360),
      U16_TO_U8S_LE(0x0361), U16_TO_U8S_LE(0x0362), U16_TO_U8S_LE(0x0363), U16_TO_U8S_LE(0x0364),
      U16_TO_U8S_LE(0x0365), U16_TO_U8S_LE(0x0366), U16_TO_U8S_LE(0x0367), U16_TO_U8S_LE(0x0368),
      U16_TO_U8S_LE(0x0369), U16_TO_U8S_LE(0x036A), U16_TO_U8S_LE(0x036B), U16_TO_U8S_LE(0x036C),
      U16_TO_U8S_LE(0x036D), U16_TO_U8S_LE(0x036E), U16_TO_U8S_LE(0x036F), U16_TO_U8S_LE(0x0370),
      U16_TO_U8S_LE(0x0371), U16_TO_U8S_LE(0x0372), U16_TO_U8S_LE(0x0373), U16_TO_U8S_LE(0x0374),
      U16_TO_U8S_LE(0x0375), U16_TO_U8S_LE(0x0376), U16_TO_U8S_LE(0x0377), U16_TO_U8S_LE(0x0378),
      U16_TO_U8S_LE(0x0379), U16_TO_U8S_LE(0x037A), U16_TO_U8S_LE(0x037B), U16_TO_U8S_LE(0x037C),
      U16_TO_U8S_LE(0x037D), U16_TO_U8S_LE(0x037E), U16_TO_U8S_LE(0x037F), U16_TO_U8S_LE(0x0380),
      U16_TO_U8S_LE(0x0381), U16_TO_U8S_LE(0x0382), U16_TO_U8S_LE(0x0383), U16_TO_U8S_LE(0x0384),
      U16_TO_U8S_LE(0x0385), U16_TO_U8S_LE(0x0386), U16_TO_U8S_LE(0x0387), U16_TO_U8S_LE(0x0388),
      U16_TO_U8S_LE(0x0389), U16_TO_U8S_LE(0x038A), U16_TO_U8S_LE(0x038B), U16_TO_U8S_LE(0x038C),
      U16_TO_U8S_LE(0x038D), U16_TO_U8S_LE(0x038E), U16_TO_U8S_LE(0x038F), U16_TO_U8S_LE(0x0390),
      U16_TO_U8S_LE(0x0391), U16_TO_U8S_LE(0x0392), U16_TO_U8S_LE(0x0393), U16_TO_U8S_LE(0x0394),
      U16_TO_U8S_LE(0x0395), U16_TO_U8S_LE(0x0396), U16_TO_U8S_LE(0x0397), U16_TO_U8S_LE(0x0398),
      U16_TO_U8S_LE(0x0399), U16_TO_U8S_LE(0x039A), U16_TO_U8S_LE(0x039B), U16_TO_U8S_LE(0x039C),
      U16_TO_U8S_LE(0x039D), U16_TO_U8S_LE(0x039E), U16_TO_U8S_LE(0x039F), U16_TO_U8S_LE(0x03A0),
      U16_TO_U8S_LE(0x03A1), U16_TO_U8S_LE(0x03A2), U16_TO_U8S_LE(0x03A3), U16_TO_U8S_LE(0x03A4),
      U16_TO_U8S_LE(0x03A5), U16_TO_U8S_LE(0x03A6), U16_TO_U8S_LE(0x03A7), U16_TO_U8S_LE(0x03A8),
      U16_TO_U8S_LE(0x03A9), U16_TO_U8S_LE(0x03AA), U16_TO_U8S_LE(0x03AB), U16_TO_U8S_LE(0x03AC),
      U16_TO_U8S_LE(0x03AD), U16_TO_U8S_LE(0x03AE), U16_TO_U8S_LE(0x03AF), U16_TO_U8S_LE(0x03B0),
      U16_TO_U8S_LE(0x03B1), U16_TO_U8S_LE(0x03B2), U16_TO_U8S_LE(0x03B3), U16_TO_U8S_LE(0x03B4),
      U16_TO_U8S_LE(0x03B5), U16_TO_U8S_LE(0x03B6), U16_TO_U8S_LE(0x03B7), U16_TO_U8S_LE(0x03B8),
      U16_TO_U8S_LE(0x03B9), U16_TO_U8S_LE(0x03BA), U16_TO_U8S_LE(0x03BB), U16_TO_U8S_LE(0x03BC),
      U16_TO_U8S_LE(0x03BD), U16_TO_U8S_LE(0x03BE), U16_TO_U8S_LE(0x03BF), U16_TO_U8S_LE(0x03C0),
      U16_TO_U8S_LE(0x03C1), U16_TO_U8S_LE(0x03C2), U16_TO_U8S_LE(0x03C3), U16_TO_U8S_LE(0x03C4),
      U16_TO_U8S_LE(0x03C5), U16_TO_U8S_LE(0x03C6), U16_TO_U8S_LE(0x03C7), U16_TO_U8S_LE(0x03C8),
      U16_TO_U8S_LE(0x03C9), U16_TO_U8S_LE(0x03CA), U16_TO_U8S_LE(0x03CB), U16_TO_U8S_LE(0x03CC),
      U16_TO_U8S_LE(0x03CD), U16_TO_U8S_LE(0x03CE), U16_TO_U8S_LE(0x03CF), U16_TO_U8S_LE(0x03D0),
      U16_TO_U8S_LE(0x03D1), U16_TO_U8S_LE(0x03D2), U16_TO_U8S_LE(0x03D3), U16_TO_U8S_LE(0x03D4),
      U16_TO_U8S_LE(0x03D5), U16_TO_U8S_LE(0x03D6), U16_TO_U8S_LE(0x03D7), U16_TO_U8S_LE(0x03D8),
      U16_TO_U8S_LE(0x03D9), U16_TO_U8S_LE(0x03DA), U16_TO_U8S_LE(0x03DB), U16_TO_U8S_LE(0x03DC),
      U16_TO_U8S_LE(0x03DD), U16_TO_U8S_LE(0x03DE), U16_TO_U8S_LE(0x03DF), U16_TO_U8S_LE(0x03E0),
      U16_TO_U8S_LE(0x03E1), U16_TO_U8S_LE(0x03E2), U16_TO_U8S_LE(0x03E3), U16_TO_U8S_LE(0x03E4),
      U16_TO_U8S_LE(0x03E5), U16_TO_U8S_LE(0x03E6), U16_TO_U8S_LE(0x03E7), U16_TO_U8S_LE(0x03E8),
      U16_TO_U8S_LE(0x03E9), U16_TO_U8S_LE(0x03EA), U16_TO_U8S_LE(0x03EB), U16_TO_U8S_LE(0x03EC),
      U16_TO_U8S_LE(0x03ED), U16_TO_U8S_LE(0x03EE), U16_TO_U8S_LE(0x03EF), U16_TO_U8S_LE(0x03F0),
      U16_TO_U8S_LE(0x03F1), U16_TO_U8S_LE(0x03F2), U16_TO_U8S_LE(0x03F3), U16_TO_U8S_LE(0x03F4),
      U16_TO_U8S_LE(0x03F5), U16_TO_U8S_LE(0x03F6), U16_TO_U8S_LE(0x03F7), U16_TO_U8S_LE(0x03F8),
      U16_TO_U8S_LE(0x03F9), U16_TO_U8S_LE(0x03FA), U16_TO_U8S_LE(0x03FB), U16_TO_U8S_LE(0x03FC),
      U16_TO_U8S_LE(0x03FD), U16_TO_U8S_LE(0x03FE), U16_TO_U8S_LE(0x03FF), U16_TO_U8S_LE(0xFFFF)
  },
  {
      U16_TO_U8S_LE(0x0401), U16_TO_U8S_LE(0x0402), U16_TO_U8S_LE(0x0403), U16_TO_U8S_LE(0x0404),
      U16_TO_U8S_LE(0x0405), U16_TO_U8S_LE(0x0406), U16_TO_U8S_LE(0x0407), U16_TO_U8S_LE(0x0408),
      U16_TO_U8S_LE(0x0409), U16_TO_U8S_LE(0x040A), U16_TO_U8S_LE(0x040B), U16_TO_U8S_LE(0x040C),
      U16_TO_U8S_LE(0x040D), U16_TO_U8S_LE(0x040E), U16_TO_U8S_LE(0x040F), U16_TO_U8S_LE(0x0410),
      U16_TO_U8S_LE(0x0411), U16_TO_U8S_LE(0x0412), U16_TO_U8S_LE(0x0413), U16_TO_U8S_LE(0x0414),
      U16_TO_U8S_LE(0x0415), U16_TO_U8S_LE(0x0416), U16_TO_U8S_LE(0x0417), U16_TO_U8S_LE(0x0418),
      U16_TO_U8S_LE(0x0419), U16_TO_U8S_LE(0x041A), U16_TO_U8S_LE(0x041B), U16_TO_U8S_LE(0x041C),
      U16_TO_U8S_LE(0x041D), U16_TO_U8S_LE(0x041E), U16_TO_U8S_LE(0x041F), U16_TO_U8S_LE(0x0420),
      U16_TO_U8S_LE(0x0421), U16_TO_U8S_LE(0x0422), U16_TO_U8S_LE(0x0423), U16_TO_U8S_LE(0x0424),
      U16_TO_U8S_LE(0x0425), U16_TO_U8S_LE(0x0426), U16_TO_U8S_LE(0x0427), U16_TO_U8S_LE(0x0428),
      U16_TO_U8S_LE(0x0429), U16_TO_U8S_LE(0x042A), U16_TO_U8S_LE(0x042B), U16_TO_U8S_LE(0x042C),
      U16_TO_U8S_LE(0x042D), U16_TO_U8S_LE(0x042E), U16_TO_U8S_LE(0x042F), U16_TO_U8S_LE(0x0430),
      U16_TO_U8S_LE(0x0431), U16_TO_U8S_LE(0x0432), U16_TO_U8S_LE(0x0433), U16_TO_U8S_LE(0x0434),
      U16_TO_U8S_LE(0x0435), U16_TO_U8S_LE(0x0436), U16_TO_U8S_LE(0x0437), U16_TO_U8S_LE(0x0438),
      U16_TO_U8S_LE(0x0439), U16_TO_U8S_LE(0x043A), U16_TO_U8S_LE(0x043B), U16_TO_U8S_LE(0x043C),
      U16_TO_U8S_LE(0x043D), U16_TO_U8S_LE(0x043E), U16_TO_U8S_LE(0x043F), U16_TO_U8S_LE(0x0440),
      U16_TO_U8S_LE(0x0441), U16_TO_U8S_LE(0x0442), U16_TO_U8S_LE(0x0443), U16_TO_U8S_LE(0x0444),
      U16_TO_U8S_LE(0x0445), U16_TO_U8S_LE(0x0446), U16_TO_U8S_LE(0x0447), U16_TO_U8S_LE(0x0448),
      U16_TO_U8S_LE(0x0449), U16_TO_U8S_LE(0x044A), U16_TO_U8S_LE(0x044B), U16_TO_U8S_LE(0x044C),
      U16_TO_U8S_LE(0x044D), U16_TO_U8S_LE(0x044E), U16_TO_U8S_LE(0x044F), U16_TO_U8S_LE(0x0450),
      U16_TO_U8S_LE(0x0451), U16_TO_U8S_LE(0x0452), U16_TO_U8S_LE(0x0453), U16_TO_U8S_LE(0x0454),
      U16_TO_U8S_LE(0x0455), U16_TO_U8S_LE(0x0456), U16_TO_U8S_LE(0x0457), U16_TO_U8S_LE(0x0458),
      U16_TO_U8S_LE(0x0459), U16_TO_U8S_LE(0x045A), U16_TO_U8S_LE(0x045B), U16_TO_U8S_LE(0x045C),
      U16_TO_U8S_LE(0x045D), U16_TO_U8S_LE(0x045E), U16_TO_U8S_LE(0x045F), U16_TO_U8S_LE(0x0460),
      U16_TO_U8S_LE(0x0461), U16_TO_U8S_LE(0x0462), U16_TO_U8S_LE(0x0463), U16_TO_U8S_LE(0x0464),
      U16_TO_U8S_LE(0x0465), U16_TO_U8S_LE(0x0466), U16_TO_U8S_LE(0x0467), U16_TO_U8S_LE(0x0468),
      U16_TO_U8S_LE(0x0469), U16_TO_U8S_LE(0x046A), U16_TO_U8S_LE(0x046B), U16_TO_U8S_LE(0x046C),
      U16_TO_U8S_LE(0x046D), U16_TO_U8S_LE(0x046E), U16_TO_U8S_LE(0x046F), U16_TO_U8S_LE(0x0470),
      U16_TO_U8S_LE(0x0471), U16_TO_U8S_LE(0x0472), U16_TO_U8S_LE(0x0473), U16_TO_U8S_LE(0x0474),
      U16_TO_U8S_LE(0x0475), U16_TO_U8S_LE(0x0476), U16_TO_U8S_LE(0x0477), U16_TO_U8S_LE(0x0478),
      U16_TO_U8S_LE(0x0479), U16_TO_U8S_LE(0x047A), U16_TO_U8S_LE(0x047B), U16_TO_U8S_LE(0x047C),
      U16_TO_U8S_LE(0x047D), U16_TO_U8S_LE(0x047E), U16_TO_U8S_LE(0x047F), U16_TO_U8S_LE(0x0480),
      U16_TO_U8S_LE(0x0481), U16_TO_U8S_LE(0x0482), U16_TO_U8S_LE(0x0483), U16_TO_U8S_LE(0x0484),
      U16_TO_U8S_LE(0x0485), U16_TO_U8S_LE(0x0486), U16_TO_U8S_LE(0x0487), U16_TO_U8S_LE(0x0488),
      U16_TO_U8S_LE(0x0489), U16_TO_U8S_LE(0x048A), U16_TO_U8S_LE(0x048B), U16_TO_U8S_LE(0x048C),
      U16_TO_U8S_LE(0x048D), U16_TO_U8S_LE(0x048E), U16_TO_U8S_LE(0x048F), U16_TO_U8S_LE(0x0490),
      U16_TO_U8S_LE(0x0491), U16_TO_U8S_LE(0x0492), U16_TO_U8S_LE(0x0493), U16_TO_U8S_LE(0x0494),
      U16_TO_U8S_LE(0x0495), U16_TO_U8S_LE(0x0496), U16_TO_U8S_LE(0x0497), U16_TO_U8S_LE(0x0498),
      U16_TO_U8S_LE(0x0499), U16_TO_U8S_LE(0x049A), U16_TO_U8S_LE(0x049B), U16_TO_U8S_LE(0x049C),
      U16_TO_U8S_LE(0x049D), U16_TO_U8S_LE(0x049E), U16_TO_U8S_LE(0x049F), U16_TO_U8S_LE(0x04A0),
      U16_TO_U8S_LE(0x04A1), U16_TO_U8S_LE(0x04A2), U16_TO_U8S_LE(0x04A3), U16_TO_U8S_LE(0x04A4),
      U16_TO_U8S_LE(0x04A5), U16_TO_U8S_LE(0x04A6), U16_TO_U8S_LE(0x04A7), U16_TO_U8S_LE(0x04A8),
      U16_TO_U8S_LE(0x04A9), U16_TO_U8S_LE(0x04AA), U16_TO_U8S_LE(0x04AB), U16_TO_U8S_LE(0x04AC),
      U16_TO_U8S_LE(0x04AD), U16_TO_U8S_LE(0x04AE), U16_TO_U8S_LE(0x04AF), U16_TO_U8S_LE(0x04B0),
      U16_TO_U8S_LE(0x04B1), U16_TO_U8S_LE(0x04B2), U16_TO_U8S_LE(0x04B3), U16_TO_U8S_LE(0x04B4),
      U16_TO_U8S_LE(0x04B5), U16_TO_U8S_LE(0x04B6), U16_TO_U8S_LE(0x04B7), U16_TO_U8S_LE(0x04B8),
      U16_TO_U8S_LE(0x04B9), U16_TO_U8S_LE(0x04BA), U16_TO_U8S_LE(0x04BB), U16_TO_U8S_LE(0x04BC),
      U16_TO_U8S_LE(0x04BD), U16_TO_U8S_LE(0x04BE), U16_TO_U8S_LE(0x04BF), U16_TO_U8S_LE(0x04C0),
      U16_TO_U8S_LE(0x04C1), U16_TO_U8S_LE(0x04C2), U16_TO_U8S_LE(0x04C3), U16_TO_U8S_LE(0x04C4),
      U16_TO_U8S_LE(0x04C5), U16_TO_U8S_LE(0x04C6), U16_TO_U8S_LE(0x04C7), U16_TO_U8S_LE(0x04C8),
      U16_TO_U8S_LE(0x04C9), U16_TO_U8S_LE(0x04CA), U16_TO_U8S_LE(0x04CB), U16_TO_U8S_LE(0x04CC),
      U16_TO_U8S_LE(0x04CD), U16_TO_U8S_LE(0x04CE), U16_TO_U8S_LE(0x04CF), U16_TO_U8S_LE(0x04D0),
      U16_TO_U8S_LE(0x04D1), U16_TO_U8S_LE(0x04D2), U16_TO_U8S_LE(0x04D3), U16_TO_U8S_LE(0x04D4),
      U16_TO_U8S_LE(0x04D5), U16_TO_U8S_LE(0x04D6), U16_TO_U8S_LE(0x04D7), U16_TO_U8S_LE(0x04D8),
      U16_TO_U8S_LE(0x04D9), U16_TO_U8S_LE(0x04DA), U16_TO_U8S_LE(0x04DB), U16_TO_U8S_LE(0x04DC),
      U16_TO_U8S_LE(0x04DD), U16_TO_U8S_LE(0x04DE), U16_TO_U8S_LE(0x04DF), U16_TO_U8S_LE(0x04E0),
      U16_TO_U8S_LE(0x04E1), U16_TO_U8S_LE(0x04E2), U16_TO_U8S_LE(0x04E3), U16_TO_U8S_LE(0x04E4),
      U16_TO_U8S_LE(0x04E5), U16_TO_U8S_LE(0x04E6), U16_TO_U8S_LE(0x04E7), U16_TO_U8S_LE(0x04E8),
      U16_TO_U8S_LE(0x04E9), U16_TO_U8S_LE(0x04EA), U16_TO_U8S_LE(0x04EB), U16_TO_U8S_LE(0x04EC),
      U16_TO_U8S_LE(0x04ED), U16_TO_U8S_LE(0x04EE), U16_TO_U8S_LE(0x04EF), U16_TO_U8S_LE(0x04F0),
      U16_TO_U8S_LE(0x04F1), U16_TO_U8S_LE(0x04F2), U16_TO_U8S_LE(0x04F3), U16_TO_U8S_LE(0x04F4),
      U16_TO_U8S_LE(0x04F5), U16_TO_U8S_LE(0x04F6), U16_TO_U8S_LE(0x04F7), U16_TO_U8S_LE(0x04F8),
      U16_TO_U8S_LE(0x04F9), U16_TO_U8S_LE(0x04FA), U16_TO_U8S_LE(0x04FB), U16_TO_U8S_LE(0x04FC),
      U16_TO_U8S_LE(0x04FD), U16_TO_U8S_LE(0x04FE), U16_TO_U8S_LE(0x04FF), U16_TO_U8S_LE(0xFFFF)
  },
  {
      U16_TO_U8S_LE(0x0501), U16_TO_U8S_LE(0x0502), U16_TO_U8S_LE(0x0503), U16_TO_U8S_LE(0x0504),
      U16_TO_U8S_LE(0x0505), U16_TO_U8S_LE(0x0506), U16_TO_U8S_LE(0x0507), U16_TO_U8S_LE(0x0508),
      U16_TO_U8S_LE(0x0509), U16_TO_U8S_LE(0x050A), U16_TO_U8S_LE(0x050B), U16_TO_U8S_LE(0x050C),
      U16_TO_U8S_LE(0x050D), U16_TO_U8S_LE(0x050E), U16_TO_U8S_LE(0x050F), U16_TO_U8S_LE(0x0510),
      U16_TO_U8S_LE(0x0511), U16_TO_U8S_LE(0x0512), U16_TO_U8S_LE(0x0513), U16_TO_U8S_LE(0x0514),
      U16_TO_U8S_LE(0x0515), U16_TO_U8S_LE(0x0516), U16_TO_U8S_LE(0x0517), U16_TO_U8S_LE(0x0518),
      U16_TO_U8S_LE(0x0519), U16_TO_U8S_LE(0x051A), U16_TO_U8S_LE(0x051B), U16_TO_U8S_LE(0x051C),
      U16_TO_U8S_LE(0x051D), U16_TO_U8S_LE(0x051E), U16_TO_U8S_LE(0x051F), U16_TO_U8S_LE(0x0520),
      U16_TO_U8S_LE(0x0521), U16_TO_U8S_LE(0x0522), U16_TO_U8S_LE(0x0523), U16_TO_U8S_LE(0x0524),
      U16_TO_U8S_LE(0x0525), U16_TO_U8S_LE(0x0526), U16_TO_U8S_LE(0x0527), U16_TO_U8S_LE(0x0528),
      U16_TO_U8S_LE(0x0529), U16_TO_U8S_LE(0x052A), U16_TO_U8S_LE(0x052B), U16_TO_U8S_LE(0x052C),
      U16_TO_U8S_LE(0x052D), U16_TO_U8S_LE(0x052E), U16_TO_U8S_LE(0x052F), U16_TO_U8S_LE(0x0530),
      U16_TO_U8S_LE(0x0531), U16_TO_U8S_LE(0x0532), U16_TO_U8S_LE(0x0533), U16_TO_U8S_LE(0x0534),
      U16_TO_U8S_LE(0x0535), U16_TO_U8S_LE(0x0536), U16_TO_U8S_LE(0x0537), U16_TO_U8S_LE(0x0538),
      U16_TO_U8S_LE(0x0539), U16_TO_U8S_LE(0x053A), U16_TO_U8S_LE(0x053B), U16_TO_U8S_LE(0x053C),
      U16_TO_U8S_LE(0x053D), U16_TO_U8S_LE(0x053E), U16_TO_U8S_LE(0x053F), U16_TO_U8S_LE(0x0540),
      U16_TO_U8S_LE(0x0541), U16_TO_U8S_LE(0x0542), U16_TO_U8S_LE(0x0543), U16_TO_U8S_LE(0x0544),
      U16_TO_U8S_LE(0x0545), U16_TO_U8S_LE(0x0546), U16_TO_U8S_LE(0x0547), U16_TO_U8S_LE(0x0548),
      U16_TO_U8S_LE(0x0549), U16_TO_U8S_LE(0x054A), U16_TO_U8S_LE(0x054B), U16_TO_U8S_LE(0x054C),
      U16_TO_U8S_LE(0x054D), U16_TO_U8S_LE(0x054E), U16_TO_U8S_LE(0x054F), U16_TO_U8S_LE(0x0550),
      U16_TO_U8S_LE(0x0551), U16_TO_U8S_LE(0x0552), U16_TO_U8S_LE(0x0553), U16_TO_U8S_LE(0x0554),
      U16_TO_U8S_LE(0x0555), U16_TO_U8S_LE(0x0556), U16_TO_U8S_LE(0x0557), U16_TO_U8S_LE(0x0558),
      U16_TO_U8S_LE(0x0559), U16_TO_U8S_LE(0x055A), U16_TO_U8S_LE(0x055B), U16_TO_U8S_LE(0x055C),
      U16_TO_U8S_LE(0x055D), U16_TO_U8S_LE(0x055E), U16_TO_U8S_LE(0x055F), U16_TO_U8S_LE(0x0560),
      U16_TO_U8S_LE(0x0561), U16_TO_U8S_LE(0x0562), U16_TO_U8S_LE(0x0563), U16_TO_U8S_LE(0x0564),
      U16_TO_U8S_LE(0x0565), U16_TO_U8S_LE(0x0566), U16_TO_U8S_LE(0x0567), U16_TO_U8S_LE(0x0568),
      U16_TO_U8S_LE(0x0569), U16_TO_U8S_LE(0x056A), U16_TO_U8S_LE(0x056B), U16_TO_U8S_LE(0x056C),
      U16_TO_U8S_LE(0x056D), U16_TO_U8S_LE(0x056E), U16_TO_U8S_LE(0x056F), U16_TO_U8S_LE(0x0570),
      U16_TO_U8S_LE(0x0571), U16_TO_U8S_LE(0x0572), U16_TO_U8S_LE(0x0573), U16_TO_U8S_LE(0x0574),
      U16_TO_U8S_LE(0x0575), U16_TO_U8S_LE(0x0576), U16_TO_U8S_LE(0x0577), U16_TO_U8S_LE(0x0578),
      U16_TO_U8S_LE(0x0579), U16_TO_U8S_LE(0x057A), U16_TO_U8S_LE(0x057B), U16_TO_U8S_LE(0x057C),
      U16_TO_U8S_LE(0x057D), U16_TO_U8S_LE(0x057E), U16_TO_U8S_LE(0x057F), U16_TO_U8S_LE(0x0580),
      U16_TO_U8S_LE(0x0581), U16_TO_U8S_LE(0x0582), U16_TO_U8S_LE(0x0583), U16_TO_U8S_LE(0x0584),
      U16_TO_U8S_LE(0x0585), U16_TO_U8S_LE(0x0586), U16_TO_U8S_LE(0x0587), U16_TO_U8S_LE(0x0588),
      U16_TO_U8S_LE(0x0589), U16_TO_U8S_LE(0x058A), U16_TO_U8S_LE(0x058B), U16_TO_U8S_LE(0x058C),
      U16_TO_U8S_LE(0x058D), U16_TO_U8S_LE(0x058E), U16_TO_U8S_LE(0x058F), U16_TO_U8S_LE(0x0590),
      U16_TO_U8S_LE(0x0591), U16_TO_U8S_LE(0x0592), U16_TO_U8S_LE(0x0593), U16_TO_U8S_LE(0x0594),
      U16_TO_U8S_LE(0x0595), U16_TO_U8S_LE(0x0596), U16_TO_U8S_LE(0x0597), U16_TO_U8S_LE(0x0598),
      U16_TO_U8S_LE(0x0599), U16_TO_U8S_LE(0x059A), U16_TO_U8S_LE(0x059B), U16_TO_U8S_LE(0x059C),
      U16_TO_U8S_LE(0x059D), U16_TO_U8S_LE(0x059E), U16_TO_U8S_LE(0x059F), U16_TO_U8S_LE(0x05A0),
      U16_TO_U8S_LE(0x05A1), U16_TO_U8S_LE(0x05A2), U16_TO_U8S_LE(0x05A3), U16_TO_U8S_LE(0x05A4),
      U16_TO_U8S_LE(0x05A5), U16_TO_U8S_LE(0x05A6), U16_TO_U8S_LE(0x05A7), U16_TO_U8S_LE(0x05A8),
      U16_TO_U8S_LE(0x05A9), U16_TO_U8S_LE(0x05AA), U16_TO_U8S_LE(0x05AB), U16_TO_U8S_LE(0x05AC),
      U16_TO_U8S_LE(0x05AD), U16_TO_U8S_LE(0x05AE), U16_TO_U8S_LE(0x05AF), U16_TO_U8S_LE(0x05B0),
      U16_TO_U8S_LE(0x05B1), U16_TO_U8S_LE(0x05B2), U16_TO_U8S_LE(0x05B3), U16_TO_U8S_LE(0x05B4),
      U16_TO_U8S_LE(0x05B5), U16_TO_U8S_LE(0x05B6), U16_TO_U8S_LE(0x05B7), U16_TO_U8S_LE(0x05B8),
      U16_TO_U8S_LE(0x05B9), U16_TO_U8S_LE(0x05BA), U16_TO_U8S_LE(0x05BB), U16_TO_U8S_LE(0x05BC),
      U16_TO_U8S_LE(0x05BD), U16_TO_U8S_LE(0x05BE), U16_TO_U8S_LE(0x05BF), U16_TO_U8S_LE(0x05C0),
      U16_TO_U8S_LE(0x05C1), U16_TO_U8S_LE(0x05C2), U16_TO_U8S_LE(0x05C3), U16_TO_U8S_LE(0x05C4),
      U16_TO_U8S_LE(0x05C5), U16_TO_U8S_LE(0x05C6), U16_TO_U8S_LE(0x05C7), U16_TO_U8S_LE(0x05C8),
      U16_TO_U8S_LE(0x05C9), U16_TO_U8S_LE(0x05CA), U16_TO_U8S_LE(0x05CB), U16_TO_U8S_LE(0x05CC),
      U16_TO_U8S_LE(0x05CD), U16_TO_U8S_LE(0x05CE), U16_TO_U8S_LE(0x05CF), U16_TO_U8S_LE(0x05D0),
      U16_TO_U8S_LE(0x05D1), U16_TO_U8S_LE(0x05D2), U16_TO_U8S_LE(0x05D3), U16_TO_U8S_LE(0x05D4),
      U16_TO_U8S_LE(0x05D5), U16_TO_U8S_LE(0x05D6), U16_TO_U8S_LE(0x05D7), U16_TO_U8S_LE(0x05D8),
      U16_TO_U8S_LE(0x05D9), U16_TO_U8S_LE(0x05DA), U16_TO_U8S_LE(0x05DB), U16_TO_U8S_LE(0x05DC),
      U16_TO_U8S_LE(0x05DD), U16_TO_U8S_LE(0x05DE), U16_TO_U8S_LE(0x05DF), U16_TO_U8S_LE(0x05E0),
      U16_TO_U8S_LE(0x05E1), U16_TO_U8S_LE(0x05E2), U16_TO_U8S_LE(0x05E3), U16_TO_U8S_LE(0x05E4),
      U16_TO_U8S_LE(0x05E5), U16_TO_U8S_LE(0x05E6), U16_TO_U8S_LE(0x05E7), U16_TO_U8S_LE(0x05E8),
      U16_TO_U8S_LE(0x05E9), U16_TO_U8S_LE(0x05EA), U16_TO_U8S_LE(0x05EB), U16_TO_U8S_LE(0x05EC),
      U16_TO_U8S_LE(0x05ED), U16_TO_U8S_LE(0x05EE), U16_TO_U8S_LE(0x05EF), U16_TO_U8S_LE(0x05F0),
      U16_TO_U8S_LE(0x05F1), U16_TO_U8S_LE(0x05F2), U16_TO_U8S_LE(0x05F3), U16_TO_U8S_LE(0x05F4),
      U16_TO_U8S_LE(0x05F5), U16_TO_U8S_LE(0x05F6), U16_TO_U8S_LE(0x05F7), U16_TO_U8S_LE(0x05F8),
      U16_TO_U8S_LE(0x05F9), U16_TO_U8S_LE(0x05FA), U16_TO_U8S_LE(0x05FB), U16_TO_U8S_LE(0x05FC),
      U16_TO_U8S_LE(0x05FD), U16_TO_U8S_LE(0x05FE), U16_TO_U8S_LE(0x05FF), U16_TO_U8S_LE(0xFFFF)
  },
  {
      U16_TO_U8S_LE(0x0601), U16_TO_U8S_LE(0x0602), U16_TO_U8S_LE(0x0603), U16_TO_U8S_LE(0x0604),
      U16_TO_U8S_LE(0x0605), U16_TO_U8S_LE(0x0606), U16_TO_U8S_LE(0x0607), U16_TO_U8S_LE(0x0608),
      U16_TO_U8S_LE(0x0609), U16_TO_U8S_LE(0x060A), U16_TO_U8S_LE(0x060B), U16_TO_U8S_LE(0x060C),
      U16_TO_U8S_LE(0x060D), U16_TO_U8S_LE(0x060E), U16_TO_U8S_LE(0x060F), U16_TO_U8S_LE(0x0610),
      U16_TO_U8S_LE(0x0611), U16_TO_U8S_LE(0x0612), U16_TO_U8S_LE(0x0613), U16_TO_U8S_LE(0x0614),
      U16_TO_U8S_LE(0x0615), U16_TO_U8S_LE(0x0616), U16_TO_U8S_LE(0x0617), U16_TO_U8S_LE(0x0618),
      U16_TO_U8S_LE(0x0619), U16_TO_U8S_LE(0x061A), U16_TO_U8S_LE(0x061B), U16_TO_U8S_LE(0x061C),
      U16_TO_U8S_LE(0x061D), U16_TO_U8S_LE(0x061E), U16_TO_U8S_LE(0x061F), U16_TO_U8S_LE(0x0620),
      U16_TO_U8S_LE(0x0621), U16_TO_U8S_LE(0x0622), U16_TO_U8S_LE(0x0623), U16_TO_U8S_LE(0x0624),
      U16_TO_U8S_LE(0x0625), U16_TO_U8S_LE(0x0626), U16_TO_U8S_LE(0x0627), U16_TO_U8S_LE(0x0628),
      U16_TO_U8S_LE(0x0629), U16_TO_U8S_LE(0x062A), U16_TO_U8S_LE(0x062B), U16_TO_U8S_LE(0x062C),
      U16_TO_U8S_LE(0x062D), U16_TO_U8S_LE(0x062E), U16_TO_U8S_LE(0x062F), U16_TO_U8S_LE(0x0630),
      U16_TO_U8S_LE(0x0631), U16_TO_U8S_LE(0x0632), U16_TO_U8S_LE(0x0633), U16_TO_U8S_LE(0x0634),
      U16_TO_U8S_LE(0x0635), U16_TO_U8S_LE(0x0636), U16_TO_U8S_LE(0x0637), U16_TO_U8S_LE(0x0638),
      U16_TO_U8S_LE(0x0639), U16_TO_U8S_LE(0x063A), U16_TO_U8S_LE(0x063B), U16_TO_U8S_LE(0x063C),
      U16_TO_U8S_LE(0x063D), U16_TO_U8S_LE(0x063E), U16_TO_U8S_LE(0x063F), U16_TO_U8S_LE(0x0640),
      U16_TO_U8S_LE(0x0641), U16_TO_U8S_LE(0x0642), U16_TO_U8S_LE(0x0643), U16_TO_U8S_LE(0x0644),
      U16_TO_U8S_LE(0x0645), U16_TO_U8S_LE(0x0646), U16_TO_U8S_LE(0x0647), U16_TO_U8S_LE(0x0648),
      U16_TO_U8S_LE(0x0649), U16_TO_U8S_LE(0x064A), U16_TO_U8S_LE(0x064B), U16_TO_U8S_LE(0x064C),
      U16_TO_U8S_LE(0x064D), U16_TO_U8S_LE(0x064E), U16_TO_U8S_LE(0x064F), U16_TO_U8S_LE(0x0650),
      U16_TO_U8S_LE(0x0651), U16_TO_U8S_LE(0x0652), U16_TO_U8S_LE(0x0653), U16_TO_U8S_LE(0x0654),
      U16_TO_U8S_LE(0x0655), U16_TO_U8S_LE(0x0656), U16_TO_U8S_LE(0x0657), U16_TO_U8S_LE(0x0658),
      U16_TO_U8S_LE(0x0659), U16_TO_U8S_LE(0x065A), U16_TO_U8S_LE(0x065B), U16_TO_U8S_LE(0x065C),
      U16_TO_U8S_LE(0x065D), U16_TO_U8S_LE(0x065E), U16_TO_U8S_LE(0x065F), U16_TO_U8S_LE(0x0660),
      U16_TO_U8S_LE(0x0661), U16_TO_U8S_LE(0x0662), U16_TO_U8S_LE(0x0663), U16_TO_U8S_LE(0x0664),
      U16_TO_U8S_LE(0x0665), U16_TO_U8S_LE(0x0666), U16_TO_U8S_LE(0x0667), U16_TO_U8S_LE(0x0668),
      U16_TO_U8S_LE(0x0669), U16_TO_U8S_LE(0x066A), U16_TO_U8S_LE(0x066B), U16_TO_U8S_LE(0x066C),
      U16_TO_U8S_LE(0x066D), U16_TO_U8S_LE(0x066E), U16_TO_U8S_LE(0x066F), U16_TO_U8S_LE(0x0670),
      U16_TO_U8S_LE(0x0671), U16_TO_U8S_LE(0x0672), U16_TO_U8S_LE(0x0673), U16_TO_U8S_LE(0x0674),
      U16_TO_U8S_LE(0x0675), U16_TO_U8S_LE(0x0676), U16_TO_U8S_LE(0x0677), U16_TO_U8S_LE(0x0678),
      U16_TO_U8S_LE(0x0679), U16_TO_U8S_LE(0x067A), U16_TO_U8S_LE(0x067B), U16_TO_U8S_LE(0x067C),
      U16_TO_U8S_LE(0x067D), U16_TO_U8S_LE(0x067E), U16_TO_U8S_LE(0x067F), U16_TO_U8S_LE(0x0680),
      U16_TO_U8S_LE(0x0681), U16_TO_U8S_LE(0x0682), U16_TO_U8S_LE(0x0683), U16_TO_U8S_LE(0x0684),
      U16_TO_U8S_LE(0x0685), U16_TO_U8S_LE(0x0686), U16_TO_U8S_LE(0x0687), U16_TO_U8S_LE(0x0688),
      U16_TO_U8S_LE(0x0689), U16_TO_U8S_LE(0x068A), U16_TO_U8S_LE(0x068B), U16_TO_U8S_LE(0x068C),
      U16_TO_U8S_LE(0x068D), U16_TO_U8S_LE(0x068E), U16_TO_U8S_LE(0x068F), U16_TO_U8S_LE(0x0690),
      U16_TO_U8S_LE(0x0691), U16_TO_U8S_LE(0x0692), U16_TO_U8S_LE(0x0693), U16_TO_U8S_LE(0x0694),
      U16_TO_U8S_LE(0x0695), U16_TO_U8S_LE(0x0696), U16_TO_U8S_LE(0x0697), U16_TO_U8S_LE(0x0698),
      U16_TO_U8S_LE(0x0699), U16_TO_U8S_LE(0x069A), U16_TO_U8S_LE(0x069B), U16_TO_U8S_LE(0x069C),
      U16_TO_U8S_LE(0x069D), U16_TO_U8S_LE(0x069E), U16_TO_U8S_LE(0x069F), U16_TO_U8S_LE(0x06A0),
      U16_TO_U8S_LE(0x06A1), U16_TO_U8S_LE(0x06A2), U16_TO_U8S_LE(0x06A3), U16_TO_U8S_LE(0x06A4),
      U16_TO_U8S_LE(0x06A5), U16_TO_U8S_LE(0x06A6), U16_TO_U8S_LE(0x06A7), U16_TO_U8S_LE(0x06A8),
      U16_TO_U8S_LE(0x06A9), U16_TO_U8S_LE(0x06AA), U16_TO_U8S_LE(0x06AB), U16_TO_U8S_LE(0x06AC),
      U16_TO_U8S_LE(0x06AD), U16_TO_U8S_LE(0x06AE), U16_TO_U8S_LE(0x06AF), U16_TO_U8S_LE(0x06B0),
      U16_TO_U8S_LE(0x06B1), U16_TO_U8S_LE(0x06B2), U16_TO_U8S_LE(0x06B3), U16_TO_U8S_LE(0x06B4),
      U16_TO_U8S_LE(0x06B5), U16_TO_U8S_LE(0x06B6), U16_TO_U8S_LE(0x06B7), U16_TO_U8S_LE(0x06B8),
      U16_TO_U8S_LE(0x06B9), U16_TO_U8S_LE(0x06BA), U16_TO_U8S_LE(0x06BB), U16_TO_U8S_LE(0x06BC),
      U16_TO_U8S_LE(0x06BD), U16_TO_U8S_LE(0x06BE), U16_TO_U8S_LE(0x06BF), U16_TO_U8S_LE(0x06C0),
      U16_TO_U8S_LE(0x06C1), U16_TO_U8S_LE(0x06C2), U16_TO_U8S_LE(0x06C3), U16_TO_U8S_LE(0x06C4),
      U16_TO_U8S_LE(0x06C5), U16_TO_U8S_LE(0x06C6), U16_TO_U8S_LE(0x06C7), U16_TO_U8S_LE(0x06C8),
      U16_TO_U8S_LE(0x06C9), U16_TO_U8S_LE(0x06CA), U16_TO_U8S_LE(0x06CB), U16_TO_U8S_LE(0x06CC),
      U16_TO_U8S_LE(0x06CD), U16_TO_U8S_LE(0x06CE), U16_TO_U8S_LE(0x06CF), U16_TO_U8S_LE(0x06D0),
      U16_TO_U8S_LE(0x06D1), U16_TO_U8S_LE(0x06D2), U16_TO_U8S_LE(0x06D3), U16_TO_U8S_LE(0x06D4),
      U16_TO_U8S_LE(0x06D5), U16_TO_U8S_LE(0x06D6), U16_TO_U8S_LE(0x06D7), U16_TO_U8S_LE(0x06D8),
      U16_TO_U8S_LE(0x06D9), U16_TO_U8S_LE(0x06DA), U16_TO_U8S_LE(0x06DB), U16_TO_U8S_LE(0x06DC),
      U16_TO_U8S_LE(0x06DD), U16_TO_U8S_LE(0x06DE), U16_TO_U8S_LE(0x06DF), U16_TO_U8S_LE(0x06E0),
      U16_TO_U8S_LE(0x06E1), U16_TO_U8S_LE(0x06E2), U16_TO_U8S_LE(0x06E3), U16_TO_U8S_LE(0x06E4),
      U16_TO_U8S_LE(0x06E5), U16_TO_U8S_LE(0x06E6), U16_TO_U8S_LE(0x06E7), U16_TO_U8S_LE(0x06E8),
      U16_TO_U8S_LE(0x06E9), U16_TO_U8S_LE(0x06EA), U16_TO_U8S_LE(0x06EB), U16_TO_U8S_LE(0x06EC),
      U16_TO_U8S_LE(0x06ED), U16_TO_U8S_LE(0x06EE), U16_TO_U8S_LE(0x06EF), U16_TO_U8S_LE(0x06F0),
      U16_TO_U8S_LE(0x06F1), U16_TO_U8S_LE(0x06F2), U16_TO_U8S_LE(0x06F3), U16_TO_U8S_LE(0x06F4),
      U16_TO_U8S_LE(0x06F5), U16_TO_U8S_LE(0x06F6), U16_TO_U8S_LE(0x06F7), U16_TO_U8S_LE(0x06F8),
      U16_TO_U8S_LE(0x06F9), U16_TO_U8S_LE(0x06FA), U16_TO_U8S_LE(0x06FB), U16_TO_U8S_LE(0x06FC),
      U16_TO_U8S_LE(0x06FD), U16_TO_U8S_LE(0x06FE), U16_TO_U8S_LE(0x06FF), U16_TO_U8S_LE(0xFFFF)
  },
  {
      U16_TO_U8S_LE(0x0701), U16_TO_U8S_LE(0x0702), U16_TO_U8S_LE(0x0703), U16_TO_U8S_LE(0x0704),
      U16_TO_U8S_LE(0x0705), U16_TO_U8S_LE(0x0706), U16_TO_U8S_LE(0x0707), U16_TO_U8S_LE(0x0708),
      U16_TO_U8S_LE(0x0709), U16_TO_U8S_LE(0x070A), U16_TO_U8S_LE(0x070B), U16_TO_U8S_LE(0x070C),
      U16_TO_U8S_LE(0x070D), U16_TO_U8S_LE(0x070E), U16_TO_U8S_LE(0x070F), U16_TO_U8S_LE(0x0710),
      U16_TO_U8S_LE(0x0711), U16_TO_U8S_LE(0x0712), U16_TO_U8S_LE(0x0713), U16_TO_U8S_LE(0x0714),
      U16_TO_U8S_LE(0x0715), U16_TO_U8S_LE(0x0716), U16_TO_U8S_LE(0x0717), U16_TO_U8S_LE(0x0718),
      U16_TO_U8S_LE(0x0719), U16_TO_U8S_LE(0x071A), U16_TO_U8S_LE(0x071B), U16_TO_U8S_LE(0x071C),
      U16_TO_U8S_LE(0x071D), U16_TO_U8S_LE(0x071E), U16_TO_U8S_LE(0x071F), U16_TO_U8S_LE(0x0720),
      U16_TO_U8S_LE(0x0721), U16_TO_U8S_LE(0x0722), U16_TO_U8S_LE(0x0723), U16_TO_U8S_LE(0x0724),
      U16_TO_U8S_LE(0x0725), U16_TO_U8S_LE(0x0726), U16_TO_U8S_LE(0x0727), U16_TO_U8S_LE(0x0728),
      U16_TO_U8S_LE(0x0729), U16_TO_U8S_LE(0x072A), U16_TO_U8S_LE(0x072B), U16_TO_U8S_LE(0x072C),
      U16_TO_U8S_LE(0x072D), U16_TO_U8S_LE(0x072E), U16_TO_U8S_LE(0x072F), U16_TO_U8S_LE(0x0730),
      U16_TO_U8S_LE(0x0731), U16_TO_U8S_LE(0x0732), U16_TO_U8S_LE(0x0733), U16_TO_U8S_LE(0x0734),
      U16_TO_U8S_LE(0x0735), U16_TO_U8S_LE(0x0736), U16_TO_U8S_LE(0x0737), U16_TO_U8S_LE(0x0738),
      U16_TO_U8S_LE(0x0739), U16_TO_U8S_LE(0x073A), U16_TO_U8S_LE(0x073B), U16_TO_U8S_LE(0x073C),
      U16_TO_U8S_LE(0x073D), U16_TO_U8S_LE(0x073E), U16_TO_U8S_LE(0x073F), U16_TO_U8S_LE(0x0740),
      U16_TO_U8S_LE(0x0741), U16_TO_U8S_LE(0x0742), U16_TO_U8S_LE(0x0743), U16_TO_U8S_LE(0x0744),
      U16_TO_U8S_LE(0x0745), U16_TO_U8S_LE(0x0746), U16_TO_U8S_LE(0x0747), U16_TO_U8S_LE(0x0748),
      U16_TO_U8S_LE(0x0749), U16_TO_U8S_LE(0x074A), U16_TO_U8S_LE(0x074B), U16_TO_U8S_LE(0x074C),
      U16_TO_U8S_LE(0x074D), U16_TO_U8S_LE(0x074E), U16_TO_U8S_LE(0x074F), U16_TO_U8S_LE(0x0750),
      U16_TO_U8S_LE(0x0751), U16_TO_U8S_LE(0x0752), U16_TO_U8S_LE(0x0753), U16_TO_U8S_LE(0x0754),
      U16_TO_U8S_LE(0x0755), U16_TO_U8S_LE(0x0756), U16_TO_U8S_LE(0x0757), U16_TO_U8S_LE(0x0758),
      U16_TO_U8S_LE(0x0759), U16_TO_U8S_LE(0x075A), U16_TO_U8S_LE(0x075B), U16_TO_U8S_LE(0x075C),
      U16_TO_U8S_LE(0x075D), U16_TO_U8S_LE(0x075E), U16_TO_U8S_LE(0x075F), U16_TO_U8S_LE(0x0760),
      U16_TO_U8S_LE(0x0761), U16_TO_U8S_LE(0x0762), U16_TO_U8S_LE(0x0763), U16_TO_U8S_LE(0x0764),
      U16_TO_U8S_LE(0x0765), U16_TO_U8S_LE(0x0766), U16_TO_U8S_LE(0x0767), U16_TO_U8S_LE(0x0768),
      U16_TO_U8S_LE(0x0769), U16_TO_U8S_LE(0x076A), U16_TO_U8S_LE(0x076B), U16_TO_U8S_LE(0x076C),
      U16_TO_U8S_LE(0x076D), U16_TO_U8S_LE(0x076E), U16_TO_U8S_LE(0x076F), U16_TO_U8S_LE(0x0770),
      U16_TO_U8S_LE(0x0771), U16_TO_U8S_LE(0x0772), U16_TO_U8S_LE(0x0773), U16_TO_U8S_LE(0x0774),
      U16_TO_U8S_LE(0x0775), U16_TO_U8S_LE(0x0776), U16_TO_U8S_LE(0x0777), U16_TO_U8S_LE(0x0778),
      U16_TO_U8S_LE(0x0779), U16_TO_U8S_LE(0x077A), U16_TO_U8S_LE(0x077B), U16_TO_U8S_LE(0x077C),
      U16_TO_U8S_LE(0x077D), U16_TO_U8S_LE(0x077E), U16_TO_U8S_LE(0x077F), U16_TO_U8S_LE(0x0780),
      U16_TO_U8S_LE(0x0781), U16_TO_U8S_LE(0x0782), U16_TO_U8S_LE(0x0783), U16_TO_U8S_LE(0x0784),
      U16_TO_U8S_LE(0x0785), U16_TO_U8S_LE(0x0786), U16_TO_U8S_LE(0x0787), U16_TO_U8S_LE(0x0788),
      U16_TO_U8S_LE(0x0789), U16_TO_U8S_LE(0x078A), U16_TO_U8S_LE(0x078B), U16_TO_U8S_LE(0x078C),
      U16_TO_U8S_LE(0x078D), U16_TO_U8S_LE(0x078E), U16_TO_U8S_LE(0x078F), U16_TO_U8S_LE(0x0790),
      U16_TO_U8S_LE(0x0791), U16_TO_U8S_LE(0x0792), U16_TO_U8S_LE(0x0793), U16_TO_U8S_LE(0x0794),
      U16_TO_U8S_LE(0x0795), U16_TO_U8S_LE(0x0796), U16_TO_U8S_LE(0x0797), U16_TO_U8S_LE(0x0798),
      U16_TO_U8S_LE(0x0799), U16_TO_U8S_LE(0x079A), U16_TO_U8S_LE(0x079B), U16_TO_U8S_LE(0x079C),
      U16_TO_U8S_LE(0x079D), U16_TO_U8S_LE(0x079E), U16_TO_U8S_LE(0x079F), U16_TO_U8S_LE(0x07A0),
      U16_TO_U8S_LE(0x07A1), U16_TO_U8S_LE(0x07A2), U16_TO_U8S_LE(0x07A3), U16_TO_U8S_LE(0x07A4),
      U16_TO_U8S_LE(0x07A5), U16_TO_U8S_LE(0x07A6), U16_TO_U8S_LE(0x07A7), U16_TO_U8S_LE(0x07A8),
      U16_TO_U8S_LE(0x07A9), U16_TO_U8S_LE(0x07AA), U16_TO_U8S_LE(0x07AB), U16_TO_U8S_LE(0x07AC),
      U16_TO_U8S_LE(0x07AD), U16_TO_U8S_LE(0x07AE), U16_TO_U8S_LE(0x07AF), U16_TO_U8S_LE(0x07B0),
      U16_TO_U8S_LE(0x07B1), U16_TO_U8S_LE(0x07B2), U16_TO_U8S_LE(0x07B3), U16_TO_U8S_LE(0x07B4),
      U16_TO_U8S_LE(0x07B5), U16_TO_U8S_LE(0x07B6), U16_TO_U8S_LE(0x07B7), U16_TO_U8S_LE(0x07B8),
      U16_TO_U8S_LE(0x07B9), U16_TO_U8S_LE(0x07BA), U16_TO_U8S_LE(0x07BB), U16_TO_U8S_LE(0x07BC),
      U16_TO_U8S_LE(0x07BD), U16_TO_U8S_LE(0x07BE), U16_TO_U8S_LE(0x07BF), U16_TO_U8S_LE(0x07C0),
      U16_TO_U8S_LE(0x07C1), U16_TO_U8S_LE(0x07C2), U16_TO_U8S_LE(0x07C3), U16_TO_U8S_LE(0x07C4),
      U16_TO_U8S_LE(0x07C5), U16_TO_U8S_LE(0x07C6), U16_TO_U8S_LE(0x07C7), U16_TO_U8S_LE(0x07C8),
      U16_TO_U8S_LE(0x07C9), U16_TO_U8S_LE(0x07CA), U16_TO_U8S_LE(0x07CB), U16_TO_U8S_LE(0x07CC),
      U16_TO_U8S_LE(0x07CD), U16_TO_U8S_LE(0x07CE), U16_TO_U8S_LE(0x07CF), U16_TO_U8S_LE(0x07D0),
      U16_TO_U8S_LE(0x07D1), U16_TO_U8S_LE(0x07D2), U16_TO_U8S_LE(0x07D3), U16_TO_U8S_LE(0x07D4),
      U16_TO_U8S_LE(0x07D5), U16_TO_U8S_LE(0x07D6), U16_TO_U8S_LE(0x07D7), U16_TO_U8S_LE(0x07D8),
      U16_TO_U8S_LE(0x07D9), U16_TO_U8S_LE(0x07DA), U16_TO_U8S_LE(0x07DB), U16_TO_U8S_LE(0x07DC),
      U16_TO_U8S_LE(0x07DD), U16_TO_U8S_LE(0x07DE), U16_TO_U8S_LE(0x07DF), U16_TO_U8S_LE(0x07E0),
      U16_TO_U8S_LE(0x07E1), U16_TO_U8S_LE(0x07E2), U16_TO_U8S_LE(0x07E3), U16_TO_U8S_LE(0x07E4),
      U16_TO_U8S_LE(0x07E5), U16_TO_U8S_LE(0x07E6), U16_TO_U8S_LE(0x07E7), U16_TO_U8S_LE(0x07E8),
      U16_TO_U8S_LE(0x07E9), U16_TO_U8S_LE(0x07EA), U16_TO_U8S_LE(0x07EB), U16_TO_U8S_LE(0x07EC),
      U16_TO_U8S_LE(0x07ED), U16_TO_U8S_LE(0x07EE), U16_TO_U8S_LE(0x07EF), U16_TO_U8S_LE(0x07F0),
      U16_TO_U8S_LE(0x07F1), U16_TO_U8S_LE(0x07F2), U16_TO_U8S_LE(0x07F3), U16_TO_U8S_LE(0x07F4),
      U16_TO_U8S_LE(0x07F5), U16_TO_U8S_LE(0x07F6), U16_TO_U8S_LE(0x07F7), U16_TO_U8S_LE(0x07F8),
      U16_TO_U8S_LE(0x07F9), U16_TO_U8S_LE(0x07FA), U16_TO_U8S_LE(0x07FB), U16_TO_U8S_LE(0x07FC),
      U16_TO_U8S_LE(0x07FD), U16_TO_U8S_LE(0x07FE), U16_TO_U8S_LE(0x07FF), U16_TO_U8S_LE(0xFFFF)
  },
  {
      U16_TO_U8S_LE(0x0801), U16_TO_U8S_LE(0x0802), U16_TO_U8S_LE(0x0803), U16_TO_U8S_LE(0x0804),
      U16_TO_U8S_LE(0x0805), U16_TO_U8S_LE(0x0806), U16_TO_U8S_LE(0x0807), U16_TO_U8S_LE(0x0808),
      U16_TO_U8S_LE(0x0809), U16_TO_U8S_LE(0x080A), U16_TO_U8S_LE(0x080B), U16_TO_U8S_LE(0x080C),
      U16_TO_U8S_LE(0x080D), U16_TO_U8S_LE(0x080E), U16_TO_U8S_LE(0x080F), U16_TO_U8S_LE(0x0810),
      U16_TO_U8S_LE(0x0811), U16_TO_U8S_LE(0x0812), U16_TO_U8S_LE(0x0813), U16_TO_U8S_LE(0x0814),
      U16_TO_U8S_LE(0x0815), U16_TO_U8S_LE(0x0816), U16_TO_U8S_LE(0x0817), U16_TO_U8S_LE(0x0818),
      U16_TO_U8S_LE(0x0819), U16_TO_U8S_LE(0x081A), U16_TO_U8S_LE(0x081B), U16_TO_U8S_LE(0x081C),
      U16_TO_U8S_LE(0x081D), U16_TO_U8S_LE(0x081E), U16_TO_U8S_LE(0x081F), U16_TO_U8S_LE(0x0820),
      U16_TO_U8S_LE(0x0821), U16_TO_U8S_LE(0x0822), U16_TO_U8S_LE(0x0823), U16_TO_U8S_LE(0x0824),
      U16_TO_U8S_LE(0x0825), U16_TO_U8S_LE(0x0826), U16_TO_U8S_LE(0x0827), U16_TO_U8S_LE(0x0828),
      U16_TO_U8S_LE(0x0829), U16_TO_U8S_LE(0x082A), U16_TO_U8S_LE(0x082B), U16_TO_U8S_LE(0x082C),
      U16_TO_U8S_LE(0x082D), U16_TO_U8S_LE(0x082E), U16_TO_U8S_LE(0x082F), U16_TO_U8S_LE(0x0830),
      U16_TO_U8S_LE(0x0831), U16_TO_U8S_LE(0x0832), U16_TO_U8S_LE(0x0833), U16_TO_U8S_LE(0x0834),
      U16_TO_U8S_LE(0x0835), U16_TO_U8S_LE(0x0836), U16_TO_U8S_LE(0x0837), U16_TO_U8S_LE(0x0838),
      U16_TO_U8S_LE(0x0839), U16_TO_U8S_LE(0x083A), U16_TO_U8S_LE(0x083B), U16_TO_U8S_LE(0x083C),
      U16_TO_U8S_LE(0x083D), U16_TO_U8S_LE(0x083E), U16_TO_U8S_LE(0x083F), U16_TO_U8S_LE(0x0840),
      U16_TO_U8S_LE(0x0841), U16_TO_U8S_LE(0x0842), U16_TO_U8S_LE(0x0843), U16_TO_U8S_LE(0x0844),
      U16_TO_U8S_LE(0x0845), U16_TO_U8S_LE(0x0846), U16_TO_U8S_LE(0x0847), U16_TO_U8S_LE(0x0848),
      U16_TO_U8S_LE(0x0849), U16_TO_U8S_LE(0x084A), U16_TO_U8S_LE(0x084B), U16_TO_U8S_LE(0x084C),
      U16_TO_U8S_LE(0x084D), U16_TO_U8S_LE(0x084E), U16_TO_U8S_LE(0x084F), U16_TO_U8S_LE(0x0850),
      U16_TO_U8S_LE(0x0851), U16_TO_U8S_LE(0x0852), U16_TO_U8S_LE(0x0853), U16_TO_U8S_LE(0x0854),
      U16_TO_U8S_LE(0x0855), U16_TO_U8S_LE(0x0856), U16_TO_U8S_LE(0x0857), U16_TO_U8S_LE(0x0858),
      U16_TO_U8S_LE(0x0859), U16_TO_U8S_LE(0x085A), U16_TO_U8S_LE(0x085B), U16_TO_U8S_LE(0x085C),
      U16_TO_U8S_LE(0x085D), U16_TO_U8S_LE(0x085E), U16_TO_U8S_LE(0x085F), U16_TO_U8S_LE(0x0860),
      U16_TO_U8S_LE(0x0861), U16_TO_U8S_LE(0x0862), U16_TO_U8S_LE(0x0863), U16_TO_U8S_LE(0x0864),
      U16_TO_U8S_LE(0x0865), U16_TO_U8S_LE(0x0866), U16_TO_U8S_LE(0x0867), U16_TO_U8S_LE(0x0868),
      U16_TO_U8S_LE(0x0869), U16_TO_U8S_LE(0x086A), U16_TO_U8S_LE(0x086B), U16_TO_U8S_LE(0x086C),
      U16_TO_U8S_LE(0x086D), U16_TO_U8S_LE(0x086E), U16_TO_U8S_LE(0x086F), U16_TO_U8S_LE(0x0870),
      U16_TO_U8S_LE(0x0871), U16_TO_U8S_LE(0x0872), U16_TO_U8S_LE(0x0873), U16_TO_U8S_LE(0x0874),
      U16_TO_U8S_LE(0x0875), U16_TO_U8S_LE(0x0876), U16_TO_U8S_LE(0x0877), U16_TO_U8S_LE(0x0878),
      U16_TO_U8S_LE(0x0879), U16_TO_U8S_LE(0x087A), U16_TO_U8S_LE(0x087B), U16_TO_U8S_LE(0x087C),
      U16_TO_U8S_LE(0x087D), U16_TO_U8S_LE(0x087E), U16_TO_U8S_LE(0x087F), U16_TO_U8S_LE(0x0880),
      U16_TO_U8S_LE(0x0881), U16_TO_U8S_LE(0x0882), U16_TO_U8S_LE(0x0883), U16_TO_U8S_LE(0x0884),
      U16_TO_U8S_LE(0x0885), U16_TO_U8S_LE(0x0886), U16_TO_U8S_LE(0x0887), U16_TO_U8S_LE(0x0888),
      U16_TO_U8S_LE(0x0889), U16_TO_U8S_LE(0x088A), U16_TO_U8S_LE(0x088B), U16_TO_U8S_LE(0x088C),
      U16_TO_U8S_LE(0x088D), U16_TO_U8S_LE(0x088E), U16_TO_U8S_LE(0x088F), U16_TO_U8S_LE(0x0890),
      U16_TO_U8S_LE(0x0891), U16_TO_U8S_LE(0x0892), U16_TO_U8S_LE(0x0893), U16_TO_U8S_LE(0x0894),
      U16_TO_U8S_LE(0x0895), U16_TO_U8S_LE(0x0896), U16_TO_U8S_LE(0x0897), U16_TO_U8S_LE(0x0898),
      U16_TO_U8S_LE(0x0899), U16_TO_U8S_LE(0x089A), U16_TO_U8S_LE(0x089B), U16_TO_U8S_LE(0x089C),
      U16_TO_U8S_LE(0x089D), U16_TO_U8S_LE(0x089E), U16_TO_U8S_LE(0x089F), U16_TO_U8S_LE(0x08A0),
      U16_TO_U8S_LE(0x08A1), U16_TO_U8S_LE(0x08A2), U16_TO_U8S_LE(0x08A3), U16_TO_U8S_LE(0x08A4),
      U16_TO_U8S_LE(0x08A5), U16_TO_U8S_LE(0x08A6), U16_TO_U8S_LE(0x08A7), U16_TO_U8S_LE(0x08A8),
      U16_TO_U8S_LE(0x08A9), U16_TO_U8S_LE(0x08AA), U16_TO_U8S_LE(0x08AB), U16_TO_U8S_LE(0x08AC),
      U16_TO_U8S_LE(0x08AD), U16_TO_U8S_LE(0x08AE), U16_TO_U8S_LE(0x08AF), U16_TO_U8S_LE(0x08B0),
      U16_TO_U8S_LE(0x08B1), U16_TO_U8S_LE(0x08B2), U16_TO_U8S_LE(0x08B3), U16_TO_U8S_LE(0x08B4),
      U16_TO_U8S_LE(0x08B5), U16_TO_U8S_LE(0x08B6), U16_TO_U8S_LE(0x08B7), U16_TO_U8S_LE(0x08B8),
      U16_TO_U8S_LE(0x08B9), U16_TO_U8S_LE(0x08BA), U16_TO_U8S_LE(0x08BB), U16_TO_U8S_LE(0x08BC),
      U16_TO_U8S_LE(0x08BD), U16_TO_U8S_LE(0x08BE), U16_TO_U8S_LE(0x08BF), U16_TO_U8S_LE(0x08C0),
      U16_TO_U8S_LE(0x08C1), U16_TO_U8S_LE(0x08C2), U16_TO_U8S_LE(0x08C3), U16_TO_U8S_LE(0x08C4),
      U16_TO_U8S_LE(0x08C5), U16_TO_U8S_LE(0x08C6), U16_TO_U8S_LE(0x08C7), U16_TO_U8S_LE(0x08C8),
      U16_TO_U8S_LE(0x08C9), U16_TO_U8S_LE(0x08CA), U16_TO_U8S_LE(0x08CB), U16_TO_U8S_LE(0x08CC),
      U16_TO_U8S_LE(0x08CD), U16_TO_U8S_LE(0x08CE), U16_TO_U8S_LE(0x08CF), U16_TO_U8S_LE(0x08D0),
      U16_TO_U8S_LE(0x08D1), U16_TO_U8S_LE(0x08D2), U16_TO_U8S_LE(0x08D3), U16_TO_U8S_LE(0x08D4),
      U16_TO_U8S_LE(0x08D5), U16_TO_U8S_LE(0x08D6), U16_TO_U8S_LE(0x08D7), U16_TO_U8S_LE(0x08D8),
      U16_TO_U8S_LE(0x08D9), U16_TO_U8S_LE(0x08DA), U16_TO_U8S_LE(0x08DB), U16_TO_U8S_LE(0x08DC),
      U16_TO_U8S_LE(0x08DD), U16_TO_U8S_LE(0x08DE), U16_TO_U8S_LE(0x08DF), U16_TO_U8S_LE(0x08E0),
      U16_TO_U8S_LE(0x08E1), U16_TO_U8S_LE(0x08E2), U16_TO_U8S_LE(0x08E3), U16_TO_U8S_LE(0x08E4),
      U16_TO_U8S_LE(0x08E5), U16_TO_U8S_LE(0x08E6), U16_TO_U8S_LE(0x08E7), U16_TO_U8S_LE(0x08E8),
      U16_TO_U8S_LE(0x08E9), U16_TO_U8S_LE(0x08EA), U16_TO_U8S_LE(0x08EB), U16_TO_U8S_LE(0x08EC),
      U16_TO_U8S_LE(0x08ED), U16_TO_U8S_LE(0x08EE), U16_TO_U8S_LE(0x08EF), U16_TO_U8S_LE(0x08F0),
      U16_TO_U8S_LE(0x08F1), U16_TO_U8S_LE(0x08F2), U16_TO_U8S_LE(0x08F3), U16_TO_U8S_LE(0x08F4),
      U16_TO_U8S_LE(0x08F5), U16_TO_U8S_LE(0x08F6), U16_TO_U8S_LE(0x08F7), U16_TO_U8S_LE(0x08F8),
      U16_TO_U8S_LE(0x08F9), U16_TO_U8S_LE(0x08FA), U16_TO_U8S_LE(0x08FB), U16_TO_U8S_LE(0x08FC),
      U16_TO_U8S_LE(0x08FD), U16_TO_U8S_LE(0x08FE), U16_TO_U8S_LE(0x08FF), U16_TO_U8S_LE(0xFFFF)
  },

  //------------- Block10: Root Directory -------------//
  {
      // first entry is volume label
      VOLUME_ENTRY(),
      // second entry is readme file (will always be read only)
      SIMPLE_DIR_ENTRY("README  ", "TXT", ATTR1_READ_ONLY, FIRST_VALID_FAT_ADDRESS, README_SIZE),
      // The rest are placeholders for all of the memory unit contents (will be writeable in the future)
      // SIMPLE_DIR_ENTRY("vmu0    ", "BIN", ATTR1_ARCHIVE, 0x0100, 128 * 1024),
      // SIMPLE_DIR_ENTRY("vmu0-2  ", "BIN", ATTR1_ARCHIVE, 0x0200, 128 * 1024),
      // SIMPLE_DIR_ENTRY("vmu1    ", "BIN", ATTR1_ARCHIVE, 0x0300, 128 * 1024),
      // SIMPLE_DIR_ENTRY("vmu1-2  ", "BIN", ATTR1_ARCHIVE, 0x0400, 128 * 1024),
      // SIMPLE_DIR_ENTRY("vmu2    ", "BIN", ATTR1_ARCHIVE, 0x0500, 128 * 1024),
      // SIMPLE_DIR_ENTRY("vmu2-2  ", "BIN", ATTR1_ARCHIVE, 0x0600, 128 * 1024),
      // SIMPLE_DIR_ENTRY("vmu3    ", "BIN", ATTR1_ARCHIVE, 0x0700, 128 * 1024),
      // SIMPLE_DIR_ENTRY("vmu3-2  ", "BIN", ATTR1_ARCHIVE, 0x0800, 128 * 1024),
  },

  //------------- Block11+: File Content -------------//
  {README_CONTENTS}
};

// Parses a filename string into name and extension fields
void parse_filename(const char* filename, uint8_t* name8, uint8_t* ext3)
{
  // Make sure characters not set are padded with spaces
  memset(name8, ' ', 8);
  memset(ext3, ' ', 8);

  const char* dotPos = strchr(filename, '.');
  if (dotPos)
  {
    // File has extension
    // Copy name
    uint32_t nameLen = dotPos - filename;
    if (nameLen > 8) nameLen = 8;
    for (uint8_t i = 0; i < nameLen; ++i)
    {
      *name8++ = CHAR_TO_UPPER(*filename);
      filename++;
    }
    // Copy extension
    const char* extStart = dotPos + 1;
    uint32_t extLen = strlen(extStart);
    if (extLen > 3) extLen = 3;
    for (uint8_t i = 0; i < extLen; ++i)
    {
      *ext3++ = CHAR_TO_UPPER(*extStart);
      extStart++;
    }
  }
  else
  {
    // No extension
    // Copy name
    int32_t n = strlen(filename);
    if (n > 8) n = 8;
    for (uint8_t i = 0; i < n; ++i)
    {
      name8[i] = CHAR_TO_UPPER(*filename++);
    }
    // Leave extension empty
  }
}

void set_file_entries()
{
    uint8_t* rootDirEntry = msc_disk[NUM_RESERVED_SECTORS + NUM_FAT_SECTORS];
    uint8_t const * rootEnd = msc_disk[NUM_HEADER_SECTORS];
    // Move past volume label and internal files
    rootDirEntry += ((1 + NUM_INTERNAL_FILES) * BYTES_PER_ROOT_ENTRY);

    // Set all files in fileEntries
    for (uint32_t i = 0;
         i < (sizeof(fileEntries) / sizeof(fileEntries[0])) && (rootDirEntry < rootEnd);
         ++i)
    {
      // File entry is only considered set if handle is set
      if (fileEntries[i].handle != nullptr)
      {
        memcpy(rootDirEntry, defaultRootEntry, sizeof(defaultRootEntry));
        // Parse filename into the name and extension fields
        parse_filename(fileEntries[i].filename, rootDirEntry, rootDirEntry + 8);
        // Set address and size
        uint8_t addrAndSize[6] = {U16_TO_U8S_LE(fileEntries[i].startBlock),
                                  U32_TO_U8S_LE(fileEntries[i].size)};
        memcpy(rootDirEntry + (BYTES_PER_ROOT_ENTRY - 6), addrAndSize, 6);
        // Move to next entry in FAT
        rootDirEntry += BYTES_PER_ROOT_ENTRY;
      }
    }

    // Empty out everything else
    if (rootDirEntry < rootEnd)
    {
      memset(rootDirEntry, 0, rootEnd - rootDirEntry);
    }
}

void usb_msc_add(UsbFile* file)
{
  LockGuard lockGuard(*fileMutex);

  if (!lockGuard.isLocked())
  {
    DEBUG_PRINT("Critical Fault: Failed to add file \"%s\" due to lock failure\n",
                file->getFileName());
    // Spin forever
    assert(0);
  }

  const char* filename = file->getFileName();
  if (*filename != '\0')
  {
    // Find first empty slot and add file
    for (uint32_t i = 0;
         i < (sizeof(fileEntries) / sizeof(fileEntries[0]));
         ++i)
    {
      if (fileEntries[i].handle == nullptr)
      {
        fileEntries[i].handle = file;
        fileEntries[i].filename = file->getFileName();
        fileEntries[i].size = file->getFileSize();
        if (fileEntries[i].size > MAX_FILE_SIZE_BYTES)
        {
          fileEntries[i].size = MAX_FILE_SIZE_BYTES;
        }
        fileEntries[i].startBlock = START_EXTERNAL_FILE_BLOCK + (i * BLOCKS_PER_FILE);
        fileEntries[i].numBlocks = INT_DIVIDE_CEILING(fileEntries[i].size, DISK_BLOCK_SIZE);
        ++numFileEntries;
        set_file_entries();
        new_data = true;
        break;
      }
    }
  }
}

void usb_msc_remove(UsbFile* file)
{
  LockGuard lockGuard(*fileMutex);

  if (!lockGuard.isLocked())
  {
    DEBUG_PRINT("Critical Fault: Failed to remove file \"%s\" due to lock failure\n",
                file->getFileName());
    // Spin forever
    assert(0);
  }

  // Find entry with matching file and remove it
  for (uint32_t i = 0;
       i < (sizeof(fileEntries) / sizeof(fileEntries[0]));
       ++i)
  {
      if (fileEntries[i].handle == file)
      {
        fileEntries[i].handle = nullptr;
        fileEntries[i].filename = nullptr;
        fileEntries[i].size = 0;
        fileEntries[i].startBlock = 0;
        --numFileEntries;
        set_file_entries();
        // Only tell host to update data if device isn't ejected
        new_data = true;
        break;
      }
  }
}

class UsbMscFileSystem : public UsbFileSystem
{
  public:
    virtual void add(UsbFile* file) final
    {
      usb_msc_add(file);
    }

    virtual void remove(UsbFile* file) final
    {
      usb_msc_remove(file);
    }

};

static UsbMscFileSystem fileSystem;

UsbFileSystem& usb_msc_get_file_system()
{
  return fileSystem;
}

void msc_init(MutexInterface* mutex)
{
  fileMutex = mutex;
}

// Invoked when received SCSI_CMD_INQUIRY
// Application fill vendor id, product id and revision with string up to 8, 16, 4 characters respectively
void tud_msc_inquiry_cb(uint8_t lun, uint8_t vendor_id[8], uint8_t product_id[16], uint8_t product_rev[4])
{
  (void) lun;

  const char vid[] = "OngFx86";
  const char pid[] = "Dreamcast Ctrlr";
  const char rev[] = "1.0";

  memcpy(vendor_id  , vid, strlen(vid));
  memcpy(product_id , pid, strlen(pid));
  memcpy(product_rev, rev, strlen(rev));
}

// Invoked when received Test Unit Ready command.
// return true allowing host to read/write this LUN e.g SD card inserted
bool tud_msc_test_unit_ready_cb(uint8_t lun)
{
  (void) lun;

  if (new_data)
  {
    new_data = false;
    // Only cause drive to reattach iff there is at least 1 file present
    if (numFileEntries > 0)
    {
      ejected = false;
      tud_msc_set_sense(lun, SCSI_SENSE_UNIT_ATTENTION, 0x28, 0x00);
      return false;
    }
    else
    {
      // Cause eject if no files present
      ejected = true;
    }
  }

  if (ejected)
  {
    tud_msc_set_sense(lun, SCSI_SENSE_NOT_READY, 0x3a, 0x00);
    return false;
  }

  return true;
}

// Invoked when received SCSI_CMD_READ_CAPACITY_10 and SCSI_CMD_READ_FORMAT_CAPACITY to determine the disk size
// Application update block count and block size
void tud_msc_capacity_cb(uint8_t lun, uint32_t* block_count, uint16_t* block_size)
{
  (void) lun;

  *block_count = REPORTED_BLOCK_NUM;
  *block_size  = DISK_BLOCK_SIZE;
}

// Invoked when received Start Stop Unit command
// - Start = 0 : stopped power mode, if load_eject = 1 : unload disk storage
// - Start = 1 : active mode, if load_eject = 1 : load disk storage
bool tud_msc_start_stop_cb(uint8_t lun, uint8_t power_condition, bool start, bool load_eject)
{
  (void) lun;
  (void) power_condition;

  if ( load_eject )
  {
    if (start)
    {
      ejected = (numFileEntries == 0);
      if (ejected)
      {
        tud_msc_set_sense(lun, SCSI_SENSE_NOT_READY, 0x3a, 0x00);
        return false;
      }
    }
    else
    {
      // unload disk storage
      ejected = true;
    }
  }

  return true;
}

// Callback invoked when received READ10 command.
// Copy disk's data to buffer (up to bufsize) and return number of copied bytes.
int32_t tud_msc_read10_cb(uint8_t lun, uint32_t lba, uint32_t offset, void* buffer, uint32_t bufsize)
{
  (void) lun;

  int32_t numRead = -1;

  if (lba < ALLOCATED_DISK_BLOCK_NUM)
  {
    // RAM disk area
    uint8_t const* addr = msc_disk[lba] + offset;
    memcpy(buffer, addr, bufsize);
    numRead = bufsize;
  }
  else if (lba < ALLOCATED_DISK_BLOCK_NUM + BAD_SECTOR_DISK_BLOCK_NUM)
  {
    // Attempt to read bad sectors (just send back zeros)
    memset(buffer, 0, bufsize);
    numRead = bufsize;
  }
  else if (lba < ALLOCATED_DISK_BLOCK_NUM + BAD_SECTOR_DISK_BLOCK_NUM + EXTERNAL_DISK_BLOCK_NUM)
  {
    // Serialize this section with file add/remove
    LockGuard lockGuard(*fileMutex);

    if (!lockGuard.isLocked())
    {
      DEBUG_PRINT("Critical Fault: Failed to read file due to lock failure\n");
      // Spin forever
      assert(0);
    }

    // This actually works out perfectly since each read will be up to 1 block of data, our block of
    // data is 512 bytes, and a VMU block of data is also 512 bytes.

    uint32_t realAddr = lba + FIRST_VALID_FAT_ADDRESS - NUM_HEADER_SECTORS;

    // Find the file which contains this address
    for (uint32_t i = 0;
        i < (sizeof(fileEntries) / sizeof(fileEntries[0]));
        ++i)
    {
        if (realAddr >= fileEntries[i].startBlock && realAddr < (fileEntries[i].startBlock + fileEntries[i].numBlocks))
        {
          // Found the matching file!
          uint32_t vmuAddr = realAddr & 0xFF;
          numRead = fileEntries[i].handle->read(vmuAddr, buffer, bufsize, 20000);
          break;
        }
    }
  }
  else if (lba < REPORTED_BLOCK_NUM)
  {
    // Fake data (host shouldn't attempt to read here, but return data anyway)
    memset(buffer, 0, bufsize);
    numRead = bufsize;
  }
  else
  {
    // Attempt to read out of bounds
    numRead = 0;
  }

  return numRead;
}

bool tud_msc_is_writable_cb (uint8_t lun)
{
  (void) lun;

  // Read only drive
  return false;
}

// Callback invoked when received WRITE10 command.
// Process data in buffer to disk's storage and return number of written bytes
int32_t tud_msc_write10_cb(uint8_t lun, uint32_t lba, uint32_t offset, uint8_t* buffer, uint32_t bufsize)
{
  (void) lun;

  // out of ramdisk
  // TODO: write memory to external component if outside of RAM disk
  if ( lba >= REPORTED_BLOCK_NUM ) return -1;

  // Read only drive (for now)
  (void) lba; (void) offset; (void) buffer;

  return -1;
}

// Callback invoked when received an SCSI command not in built-in list below
// - READ_CAPACITY10, READ_FORMAT_CAPACITY, INQUIRY, MODE_SENSE6, REQUEST_SENSE
// - READ10 and WRITE10 has their own callbacks
int32_t tud_msc_scsi_cb (uint8_t lun, uint8_t const scsi_cmd[16], void* buffer, uint16_t bufsize)
{
  // read10 & write10 has their own callback and MUST not be handled here

  void const* response = NULL;
  int32_t resplen = 0;

  // most scsi handled is input
  bool in_xfer = true;

  switch (scsi_cmd[0])
  {
    case SCSI_CMD_PREVENT_ALLOW_MEDIUM_REMOVAL:
      // Host is about to read/write etc ... better not to disconnect disk
      resplen = 0;
    break;

    default:
      // Set Sense = Invalid Command Operation
      tud_msc_set_sense(lun, SCSI_SENSE_ILLEGAL_REQUEST, 0x20, 0x00);

      // negative means error -> tinyusb could stall and/or response with failed status
      resplen = -1;
    break;
  }

  // return resplen must not larger than bufsize
  if ( resplen > bufsize ) resplen = bufsize;

  if ( response && (resplen > 0) )
  {
    if(in_xfer)
    {
      memcpy(buffer, response, resplen);
    }else
    {
      // SCSI output
    }
  }

  return resplen;
}
